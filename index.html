<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>M&M-COMMUNITY - Das Fundament</title>
    <style>
        /* BASIS-LAYOUT */
        body { 
            background-color: #000; color: #fff; 
            font-family: 'Segoe UI', Arial, sans-serif; 
            margin: 0; padding: 0; 
            display: flex; flex-direction: column; align-items: center; 
            height: 100vh; overflow: hidden; 
        }

        /* SIGNAL-BLINKEN */
        @keyframes signalBlink {
            0% { box-shadow: 0 0 5px #fff; opacity: 0.8; }
            50% { box-shadow: 0 0 20px #fff, 0 0 30px #ffd700; opacity: 1; transform: scale(1.05); }
            100% { box-shadow: 0 0 5px #fff; opacity: 0.8; }
        }
        .signal-aktiv { 
            animation: signalBlink 1s infinite ease-in-out !important; 
            border: 2px solid #fff !important;
        }

        /* HEADER & LOGO */
        .dashboard-header { 
            width: 100%; position: absolute; top: 3%; 
            display: flex; justify-content: flex-start; padding: 0 2%; 
            box-sizing: border-box; z-index: 20;
        }
        .logo-ring { 
            width: 110px; height: 110px; border: 3px solid #fff; background-color: #003d8f; 
            border-radius: 50%; display: flex; flex-direction: column; justify-content: center; align-items: center; 
        }
        .logo-mm { font-size: 2rem; font-weight: 900; line-height: 0.8; }
        .logo-community { font-size: 0.6rem; letter-spacing: 1.5px; text-transform: uppercase; font-weight: bold; }

        /* TAFEL DESIGNS */
        .info-section { 
            width: 80%; height: 26vh; border: 2px solid #003d8f; 
            display: flex; flex-direction: column; justify-content: center; align-items: center; 
            background-color: #000; position: relative; margin-top: 2vh;
        }
        .tafel-layout { display: flex; align-items: center; justify-content: center; width: 100%; position: relative; margin-top: 1vh; height: 26vh; flex-shrink: 0; }
        .info-section-ebene { width: 90% !important; height: 100%; border: 2px solid #003d8f; background-color: #000; position: relative; overflow: hidden; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 10; box-shadow: 0 0 15px rgba(0, 61, 143, 0.5); }
        .buttons-links { position: absolute; left: 1.5%; display: flex; flex-direction: column; gap: 15px; z-index: 20; }
        .buttons-rechts { position: absolute; right: 1.5%; display: flex; flex-direction: column; gap: 15px; z-index: 20; }
        .oval-side { width: 45px; height: 22px; border-radius: 12px; border: 1px solid #fff; opacity: 0.8; transition: all 0.3s; }
        .ov-schwarz { background: #000; border: 1.5px solid #003d8f; }
        .ov-grun { background: #00ff00; }
        .ov-blau { background: #0000ff; }
        .ov-rot { background: #ff0000; }
        .ov-pink { background: #ff00ff; }
        .ov-gelb { background: #ffff00; }

        /* GRID DASHBOARD */
        .grid { display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(5, 1fr); grid-auto-flow: column; gap: 10px; width: 95%; max-width: 1450px; margin-top: 30px; border: 3px solid #00ff00; padding: 15px; border-radius: 10px; }
        .box, .fundament-box { display: flex; border: 2px solid #003d8f; background-color: #000; min-height: 58px; position: relative; overflow: hidden; }
        .num { width: 38px; display: flex; align-items: center; justify-content: center; background-color: #003d8f; font-weight: bold; flex-shrink: 0; font-size: 0.85rem; }
        .text { padding: 4px 8px; text-transform: uppercase; font-size: 0.6rem; display: flex; align-items: center; cursor: pointer; flex-grow: 1; font-weight: 600; }

        /* CHAT */
        #chat-area { width: 90% !important; flex-grow: 1; display: none; flex-direction: column; margin-top: 5px; margin-bottom: 70px; overflow: hidden; }
        .chat-msgs { flex: 1; display: flex; flex-direction: column; justify-content: flex-end; padding: 10px 0; color: #fff; font-size: 1.1rem; }
        .chat-input-row { display: flex; border: 1px solid #003d8f; background: rgba(0, 0, 0, 0.9); padding: 5px; border-radius: 4px; }

        /* NAV */
        .bottom-nav { display: flex; justify-content: space-between; width: 100%; padding: 10px 20px; position: fixed; bottom: 0; left: 0; background: #000; z-index: 100; }
        .nav-btn { background: #ffd700; color: #000; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; border-radius: 5px; }
        .dot { width: 10px; height: 10px; background: #444; border-radius: 50%; }
        .dot.active { background: #ffd700; box-shadow: 0 0 10px #ffd700; }

        #counter-box { position: absolute; right: 0; top: 0; width: 100px; padding: 5px; border-left: 2px solid #003d8f; border-bottom: 2px solid #003d8f; background: #000; text-align: center; display: none; z-index: 100; }
        .counter-label { font-size: 0.4rem; display: block; }
        .counter-value { font-size: 0.85rem; font-weight: 900; color: #ff0000; }
        
        .top-container { width: 100%; display: flex; flex-direction: column; align-items: center; margin-top: 1vh; flex-shrink: 0; }
        .page-title-white { text-transform: uppercase; font-size: 1.8rem; font-weight: 900; }
        .ebene4-header-red { width: 90%; background: #ff0000; color: #fff; padding: 10px 0; text-align: center; font-weight: 900; display: none; }

        .num-neutral { background-color: #003d8f !important; }
        .num-gelesen { background-color: #ffd700 !important; color: #000 !important; }
        .num-fertig { background-color: #00ff00 !important; color: #000 !important; }

        #drawer-ebene4 { width: 90% !important; flex-grow: 1; display: none; margin-bottom: 70px; }
        .video-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
        .video-slot { aspect-ratio: 16/9; background: #111; border: 1px solid #003d8f; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; color: #666; }
        .slot-1-user { border-color: #00ff00; color: #00ff00; }
    </style>
</head>
<body>

    <div id="dashboard">
        <div class="dashboard-header"><div class="logo-ring"><div class="logo-mm">M&M</div><div class="logo-community">COMMUNITY</div></div></div>
        <div class="info-section">
            <h1 style="font-size: 2.8rem; margin: 0; font-weight: 900;">DAS WAS & WARUM</h1>
            <h2 style="color: #003d8f; font-size: 1.8rem; margin: 5px 0;">DIE STILLE MILLION</h2>
            <p style="max-width: 85%; color: #ccc; font-size: 1.1rem; text-align: center;">Die Wahl der Vorsitzenden erfolgt erst nach Erreichen der stillen Million.</p>
        </div>
        <div class="grid" id="main-grid"></div>
        <div class="fundament-container" style="display: flex; width: 95%; max-width: 1450px; gap: 10px; margin-top: 10px; margin-bottom: 80px;">
            <div class="fundament-box" style="flex: 1;"><div class="num">21</div><div class="text">Kapital und Verwaltung</div></div>
            <div class="fundament-box" style="flex: 1;"><div class="num">22</div><div class="text">DAS KOLLEKTIV</div></div>
        </div>
    </div>

    <div id="page-skelett" style="display: none; width: 100%; flex-direction: column; align-items: center;">
        <div class="top-container">
            <h1 id="info-titel" class="page-title-white"></h1>
            <div id="ebene4-title-red" class="ebene4-header-red"></div>
            <div class="tafel-layout">
                <div class="buttons-links">
                    <div class="oval-side ov-schwarz" id="sig-l1"></div>
                    <div class="oval-side ov-grun" id="sig-l2"></div>
                    <div class="oval-side ov-blau" id="sig-l3"></div>
                    <div class="oval-side ov-rot" id="sig-l4"></div>
                </div>
                <div class="info-section-ebene">
                    <div class="tafel-intern-logo"><div class="logo-ring" style="transform: scale(0.5);"><div class="logo-mm">M&M</div><div class="logo-community">COMMUNITY</div></div></div>
                    <span style="color:rgba(255,255,255,0.2);">FREIZONE FÜR INHALT</span>
                    <div id="counter-box"><span class="counter-label">STILLE MILLION</span><span class="counter-value">842.336</span></div>
                </div>
                <div class="buttons-rechts">
                    <div class="oval-side ov-grun" id="sig-r1"></div>
                    <div class="oval-side ov-blau" id="sig-r2"></div>
                    <div class="oval-side ov-pink" id="sig-r3"></div>
                    <div class="oval-side ov-gelb" id="sig-r4"></div>
                </div>
            </div>
        </div>

        <p id="main-text" style="width: 85%; text-align: justify; color: #ccc; margin-top: 2vh; font-size: 1.3rem;"></p>

        <div id="chat-area">
            <div class="chat-msgs" id="chat-box"></div>
            <div class="chat-input-row">
                <input type="text" id="chat-input" placeholder="Nachricht..." style="flex:1; background:transparent; border:none; color:#fff; padding:15px;" onkeypress="if(event.key==='Enter') registriereSenden()">
                <button onclick="registriereSenden()" style="background:#003d8f; color:#fff; border:none; padding:0 30px; cursor:pointer;">SENDEN</button>
            </div>
        </div> 

        <div id="drawer-ebene4">
            <div class="video-grid">
                <div class="video-slot slot-1-user">SLOT 1 (DU)</div>
                <div class="video-slot">SLOT 2</div><div class="video-slot">SLOT 3</div><div class="video-slot">SLOT 4</div>
            </div>
        </div> 
    </div>

    <div class="bottom-nav">
        <button id="btn-back" class="nav-btn" style="visibility: hidden;" onclick="showDashboard()">← Zurück</button>
        <div style="display: flex; gap: 8px;" id="dot-holder"></div>
        <button id="btn-next" class="nav-btn" style="visibility: hidden;" onclick="nextPage()">Weiter →</button>
    </div>

<script>
    const themen = ["Recht auf Gefühls Forderung", "Wie werde ich Mensch", "Glaube an Friede", "Programm für Bürgerliche Rechte", "Moralische Pflicht und Verantwortung", "Menschlichkeit Wiederherstellung", "Kinderschutz-Pflicht-Elternrechte", "Wahre Richtung und Kunst", "LGBTQ und Kirche", "Trend und Tradition", "Religionsbekenntnis oder Selbstwahl", "Gesundheitswesen und Verhalten", "Arbeitswelt und Du", "Mobbing am Arbeitsplatz", "Jugendsprecher", "Ratgeber für Pensionisten", "Sozialgefallen und Widerkehr", "Nachbarschaft und Gemeinschaft", "Mensch und Technik", "Die Brücke"];
    let ebene = 1, tId = 0, geleseneThemen = new Set(), interaktionsZaehler = {}; 
    themen.forEach((t, i) => { interaktionsZaehler[i] = 0; });

    const grid = document.getElementById('main-grid');
    themen.forEach((t, i) => { grid.innerHTML += `<div class="box"><div class="num num-neutral" id="num-${i}">${i+1}</div><div class="text" onclick="showInfo('${t}', ${i})">${t}</div></div>`; });
    
    const dots = document.getElementById('dot-holder');
    for(let i=1; i<=7; i++) dots.innerHTML += `<div id="dot${i}" class="dot ${i===1?'active':''}"></div>`;

    function showInfo(t, id) { 
        tId = id; ebene = (geleseneThemen.size >= 19) ? 3 : 2; 
        geleseneThemen.add(id); updateNumColors();
        document.getElementById('dashboard').style.display = 'none'; 
        document.getElementById('page-skelett').style.display = 'flex'; 
        updateUI(); 
    }

    function updateNumColors() { 
        themen.forEach((_, i) => { 
            const nBox = document.getElementById(`num-${i}`); 
            if (nBox) nBox.className = geleseneThemen.size >= 20 ? "num num-fertig" : (geleseneThemen.has(i) ? "num num-gelesen" : "num num-neutral");
        }); 
    }

    function registriereSenden() {
        const input = document.getElementById('chat-input'), chatBox = document.getElementById('chat-box'), text = input.value.trim();
        const sigRot = document.getElementById('sig-l4'), sigGrun = document.getElementById('sig-l2'), sigGelb = document.getElementById('sig-r4');

        if (text === "") {
            sigRot.classList.add('signal-aktiv'); setTimeout(() => sigRot.classList.remove('signal-aktiv'), 500);
            return; 
        }

        // Grün blinkt bei Aktivität
        sigGrun.classList.add('signal-aktiv'); setTimeout(() => sigGrun.classList.remove('signal-aktiv'), 1000);

        chatBox.innerHTML += `<div><strong>Du:</strong> ${text}</div>`;
        interaktionsZaehler[tId]++;
        
        // Gelb leuchtet wenn 20 voll
        if (interaktionsZaehler[tId] >= 20) {
            sigGelb.classList.add('signal-aktiv');
            chatBox.innerHTML += `<div style="color:#ffd700;">20 Interaktionen erreicht!</div>`;
        } else {
            chatBox.innerHTML += `<div style="font-size:0.7rem;">Interaktion ${interaktionsZaehler[tId]}/20</div>`;
        }
        
        input.value = ""; chatBox.scrollTop = chatBox.scrollHeight;
    }

    function updateUI() {
        const isChat = (ebene === 3), isVideo = (ebene === 4);
        document.getElementById('chat-area').style.display = isChat ? 'flex' : 'none';
        document.getElementById('drawer-ebene4').style.display = isVideo ? 'flex' : 'none';
        document.getElementById('ebene4-title-red').style.display = isVideo ? 'block' : 'none';
        document.getElementById('info-titel').style.display = isVideo ? 'none' : 'block';
        document.getElementById('counter-box').style.display = ebene >= 3 ? 'block' : 'none';
        document.getElementById('btn-back').style.visibility = 'visible';
        document.getElementById('btn-next').style.visibility = 'visible';
        
        if (ebene === 2) { 
            document.getElementById('info-titel').innerText = themen[tId];
            document.getElementById('main-text').innerText = "Hier steht der Text zur Gefühls Forderung...";
            document.getElementById('btn-next').innerText = "Nächstes Thema";
        } else if (isChat) {
            document.getElementById('info-titel').innerText = "CHAT: " + themen[tId];
            document.getElementById('main-text').innerText = "";
            document.getElementById('btn-next').innerText = "Video-Beweis →";
        } else if (isVideo) {
            document.getElementById('ebene4-title-red').innerText = "VIDEO-BEWEIS: " + themen[tId];
            document.getElementById('btn-next').innerText = "Ebene 5 →";
        }

        for(let i=1; i<=7; i++) document.getElementById('dot'+i).classList.toggle('active', i === ebene);
    }

    function nextPage() { ebene++; updateUI(); }
    function showDashboard() { document.getElementById('page-skelett').style.display = 'none'; document.getElementById('dashboard').style.display = 'flex'; }
</script>
</body>
</html>
