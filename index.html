<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>M&M-COMMUNITY - Das Fundament</title>
    <style>
        /* BASIS-LAYOUT */
        body { 
            background-color: #000; color: #fff; 
            font-family: 'Segoe UI', Arial, sans-serif; 
            margin: 0; padding: 0; 
            display: flex; flex-direction: column; align-items: center; 
            height: 100vh; overflow: hidden; 
        }

        /* ANIMATIONEN */
        @keyframes kenburns {
            0% { transform: scale(1) translate(0, 0); }
            50% { transform: scale(1.15) translate(-1%, -1%); }
            100% { transform: scale(1) translate(0, 0); }
        }
        @keyframes fadeEffect {
            0% { opacity: 0; }
            15% { opacity: 0.4; } 
            85% { opacity: 0.4; } 
            100% { opacity: 0; }  
        }

        /* HEADER & LOGO */
        .dashboard-header { 
            width: 100%; position: absolute; top: 3%; 
            display: flex; justify-content: flex-start; padding: 0 2%; 
            box-sizing: border-box; z-index: 20;
        }
        .logo-ring { 
            width: 110px; height: 110px; border: 3px solid #fff; background-color: #003d8f; 
            border-radius: 50%; display: flex; flex-direction: column; justify-content: center; align-items: center; 
        }
        .logo-mm { font-size: 2rem; font-weight: 900; line-height: 0.8; }
        .logo-community { font-size: 0.6rem; letter-spacing: 1.5px; text-transform: uppercase; font-weight: bold; }

        /* TAFEL DESIGNS */
        .info-section { 
            width: 80%; height: 26vh; border: 2px solid #003d8f; 
            display: flex; flex-direction: column; justify-content: center; align-items: center; 
            background-color: #000; position: relative; overflow: hidden; margin-top: 2vh;
        }

        .tafel-layout { 
            display: flex; align-items: center; justify-content: center; 
            width: 100%; position: relative; margin-top: 1vh; height: 26vh; flex-shrink: 0;
        }

        .info-section-ebene { 
            width: 90% !important; height: 100%; border: 2px solid #003d8f; 
            background-color: #000; position: relative; overflow: hidden;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 10; box-shadow: 0 0 15px rgba(0, 61, 143, 0.5);
        }

        .buttons-links { position: absolute; left: 1.5%; display: flex; flex-direction: column; gap: 15px; z-index: 20; }
        .buttons-rechts { position: absolute; right: 1.5%; display: flex; flex-direction: column; gap: 15px; z-index: 20; }
        
        .oval-side { width: 45px; height: 22px; border-radius: 12px; border: 1px solid #fff; opacity: 0.8; }
        .ov-schwarz { background: #000; border: 1.5px solid #003d8f; }
        .ov-grun { background: #00ff00; }
        .ov-blau { background: #0000ff; }
        .ov-rot { background: #ff0000; }
        .ov-pink { background: #ff00ff; }
        .ov-gelb { background: #ffff00; }

        .werbe-bild-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; opacity: 0; z-index: 1; }
        .bild-aktiv { animation: kenburns 20s infinite ease-in-out, fadeEffect 10s infinite; }
        .tafel-intern-logo { position: absolute; top: 10px; left: 10px; z-index: 5; }
        .werbe-text-overlay { color: rgba(255, 255, 255, 0.3); font-weight: bold; font-size: 1.2rem; letter-spacing: 5px; z-index: 5; text-align: center; text-shadow: 2px 2px 5px #000; }

        /* GRID DASHBOARD */
        .grid { 
            display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(5, 1fr); 
            grid-auto-flow: column; gap: 10px; width: 95%; max-width: 1450px; 
            margin-top: 30px; border: 3px solid #00ff00; padding: 15px; border-radius: 10px;
        }
        .box, .fundament-box { display: flex; border: 2px solid #003d8f; background-color: #000; min-height: 58px; position: relative; overflow: hidden; }
        .num { width: 38px; display: flex; align-items: center; justify-content: center; background-color: #003d8f; font-weight: bold; flex-shrink: 0; font-size: 0.85rem; }
        .text { padding: 4px 8px; text-transform: uppercase; font-size: 0.6rem; display: flex; align-items: center; cursor: pointer; flex-grow: 1; font-weight: 600; }

        /* CHAT-BEREICH & SCHUBLADEN */
        #chat-area, #drawer-ebene4 { 
            width: 90% !important; flex-grow: 1; border: none !important; background: transparent !important; 
            display: none; flex-direction: column; margin-top: 5px; margin-bottom: 70px; 
        }

        .chat-msgs, .drawer-content { 
            flex: 1; padding: 10px 0; overflow-y: auto; color: #fff; font-size: 1.1rem; text-shadow: 2px 2px 4px #000; 
        }

        .chat-input-row { display: flex; border: 1px solid #003d8f; background: rgba(0, 0, 0, 0.9); padding: 5px; border-radius: 4px; }
        .chat-msgs::-webkit-scrollbar { width: 0px; }

        /* NAVIGATION & DOTS */
        .bottom-nav { display: flex; justify-content: space-between; width: 100%; padding: 10px 20px; position: fixed; bottom: 0; left: 0; box-sizing: border-box; background: #000; z-index: 100; }
        .nav-btn { background: #ffd700; color: #000; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; border-radius: 5px; }
        .dot { width: 10px; height: 10px; background: #444; border-radius: 50%; }
        .dot.active { background: #ffd700; box-shadow: 0 0 10px #ffd700; }

        #counter-box { position: absolute; right: 0; top: 0; width: 100px; padding: 5px; border-left: 2px solid #003d8f; border-bottom: 2px solid #003d8f; background: #000; text-align: center; display: none; z-index: 100; }
        .counter-label { font-size: 0.4rem; color: #fff; display: block; }
        .counter-value { font-size: 0.85rem; font-weight: 900; color: #ff0000; }
        
        .top-container { width: 100%; display: flex; flex-direction: column; align-items: center; margin-top: 1vh; flex-shrink: 0; }
        .page-title-white { text-transform: uppercase; font-size: 1.8rem; margin-bottom: 5px; font-weight: 900; color: #fff; }

        /* NEU: Roter Balken Style */
        .ebene4-header-red { 
            width: 90%; background: #ff0000; color: #fff; padding: 10px 0; 
            text-align: center; font-weight: 900; font-size: 1.5rem; 
            border-radius: 5px 5px 0 0; display: none;
        }

        .num-neutral { background-color: #003d8f !important; }
        .num-gelesen { background-color: #ffd700 !important; color: #000 !important; }
        .num-offen { background-color: #ff4d4d !important; }
        .num-fertig { background-color: #00ff00 !important; color: #000 !important; }

        /* SCROLLBAR Styling für den Textbereich */
        #main-text::-webkit-scrollbar { width: 8px; }
        #main-text::-webkit-scrollbar-track { background: #000; }
        #main-text::-webkit-scrollbar-thumb { background: #003d8f; border-radius: 10px; }
    </style>
</head>
<body>

    <div id="dashboard" style="width: 100%; display: flex; flex-direction: column; align-items: center;">
        <div class="dashboard-header">
            <div class="logo-ring"><div class="logo-mm">M&M</div><div class="logo-community">COMMUNITY</div></div>
        </div>
        <div class="info-section">
            <h1 style="font-size: 2.8rem; margin: 0; font-weight: 900;">DAS WAS & WARUM</h1>
            <h2 style="color: #003d8f; font-size: 1.8rem; margin: 5px 0;">DIE STILLE MILLION</h2>
            <p style="max-width: 85%; color: #ccc; font-size: 1.1rem; margin: 10px 0 0 0; text-align: center;">
                Die M&M-Community ist das Fundament für alle. <strong>Die Wahl der Vorsitzenden erfolgt erst nach Erreichen der stillen Million.</strong>
            </p>
        </div>
        <div class="grid" id="main-grid"></div>
        <div class="fundament-container" style="display: flex; width: 95%; max-width: 1450px; gap: 10px; margin-top: 10px; margin-bottom: 80px;">
            <div class="fundament-box" style="flex: 1;"><div class="num">21</div><div class="text">Kapital und Verwaltung</div></div>
            <div class="fundament-box" style="flex: 1;"><div class="num">22</div><div class="text">DAS KOLLEKTIV</div></div>
        </div>
    </div>

    <div id="page-skelett" style="display: none; width: 100%; flex-direction: column; align-items: center; height: 100vh;">
        <div class="top-container">
            <h1 id="info-titel" class="page-title-white"></h1>
            <div id="ebene4-title-red" class="ebene4-header-red">DER VIDEO-BEWEIS</div>
            
            <div class="tafel-layout">
                <div class="buttons-links">
                    <div class="oval-side ov-schwarz"></div>
                    <div class="oval-side ov-grun"></div>
                    <div class="oval-side ov-blau"></div>
                    <div class="oval-side ov-rot"></div>
                </div>
                <div class="info-section-ebene">
                    <div class="werbe-bild-bg" id="werbe-bg"></div>
                    <div class="tafel-intern-logo">
                        <div class="logo-ring" style="transform: scale(0.5); transform-origin: top left;">
                            <div class="logo-mm">M&M</div><div class="logo-community">COMMUNITY</div>
                        </div>
                    </div>
                    <span class="werbe-text-overlay">HIER IST PLATZ FÜR WERBUNG</span>
                    <div id="counter-box">
                        <span class="counter-label">STILLE MILLION</span>
                        <span class="counter-value">842.336</span>
                    </div>
                </div>
                <div class="buttons-rechts">
                    <div class="oval-side ov-grun" style="border: 2px solid #00ff00;"></div>
                    <div class="oval-side ov-blau"></div>
                    <div class="oval-side ov-pink"></div>
                    <div class="oval-side ov-gelb"></div>
                </div>
            </div>
        </div>

        <p id="main-text" style="width: 85%; text-align: justify; color: #ccc; margin-top: 2vh; font-size: 1.3rem; line-height: 1.8; max-width: 1200px; overflow-y: auto; max-height: 50vh; padding-right: 15px;"></p>

        <div id="chat-area">
            <div class="chat-msgs" id="chat-box"><i>System: Dialog bereit... Buchstaben fliegen...</i></div>
            <div class="chat-input-row">
                <input type="text" placeholder="Nachricht..." style="flex:1; background:transparent; border:none; color:#fff; padding:15px;">
                <button style="background:#003d8f; color:#fff; border:none; padding:0 30px; font-weight:bold; cursor:pointer;">SENDEN</button>
            </div>
        </div>

        <div id="drawer-ebene4" style="margin-top: 0;">
            <div class="drawer-content">
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;">
                    <div style="aspect-ratio: 16/9; background: #111; border: 1px solid #003d8f; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; color: #444;">VIDEO 1 (DU)</div>
                    <div style="aspect-ratio: 16/9; background: #111; border: 1px solid #003d8f; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; color: #444;">VIDEO 2</div>
                    <div style="aspect-ratio: 16/9; background: #111; border: 1px solid #003d8f; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; color: #444;">VIDEO 3</div>
                    <div style="aspect-ratio: 16/9; background: #111; border: 1px solid #003d8f; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; color: #444;">VIDEO 4</div>
                    <div style="aspect-ratio: 16/9; background: #111; border: 1px solid #003d8f; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; color: #444;">VIDEO 5</div>
                    <div style="aspect-ratio: 16/9; background: #111; border: 1px solid #003d8f; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; color: #444;">VIDEO 6</div>
                    <div style="aspect-ratio: 16/9; background: #111; border: 1px solid #003d8f; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; color: #444;">VIDEO 7</div>
                    <div style="aspect-ratio: 16/9; background: #111; border: 1px solid #003d8f; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; color: #444;">VIDEO 8</div>
                </div>
                <button style="width: 100%; background: #00ff00; color: #000; border: none; padding: 15px; margin-top: 15px; font-weight: bold; cursor: pointer; border-radius: 5px;">JETZT ZUFÄLLIGEM DIALOG BEITRETEN</button>
            </div>
        </div>
    </div>

    <div class="bottom-nav">
        <button id="btn-back" class="nav-btn" style="visibility: hidden;" onclick="showDashboard()">← Zurück</button>
        <div style="display: flex; gap: 8px; align-items: center;" id="dot-holder"></div>
        <button id="btn-next" class="nav-btn" style="visibility: hidden;" onclick="nextPage()">Weiter →</button>
    </div>

    <script>
     const themen = ["Recht auf Gefühls Forderung", "Wie werde ich Mensch", "Glaube an Friede", "Programm für Bürgerliche Rechte", "Moralische Pflicht und Verantwortung", "Menschlichkeit Wiederherstellung", "Kinderschutz-Pflicht-Elternrechte", "Wahre Richtung und Kunst", "LGBTQ und Kirche", "Trend und Tradition", "Religionsbekenntnis oder Selbstwahl", "Gesundheitswesen und Verhalten", "Arbeitswelt und Du", "Mobbing am Arbeitsplatz", "Jugendsprecher", "Ratgeber für Pensionisten", "Sozialgefallen und Widerkehr", "Nachbarschaft und Gemeinschaft", "Mensch und Technik", "Die Brücke"];

// Jede Box hat ihren eigenen Speicher
const weltenDaten = {};
themen.forEach((t, i) => {
    weltenDaten[i] = {
        chat: [`<div style='color:#ffd700'>System: Dialog zu '${t}' gestartet.</div>`],
        ebene: 2,
        gelesen: false // Sperre für Ebene 3-7
    };
});

let tId = 0;

function showInfo(id) { 
    tId = id; 
    document.getElementById('dashboard').style.display = 'none'; 
    document.getElementById('page-skelett').style.display = 'flex'; 
    updateUI(); 
}

function updateUI() {
    const welt = weltenDaten[tId];
    const eb = welt.ebene;
    const isGelesen = welt.gelesen;

    // Titel-Logik
    const titel = document.getElementById('info-titel');
    if (eb === 2) titel.innerText = themen[tId];
    else if (eb === 3) titel.innerText = "DIALOG: " + themen[tId];
    else titel.innerText = "";

    // Sichtbarkeiten
    document.getElementById('main-text').style.display = (eb === 2 || eb > 4) ? 'block' : 'none';
    document.getElementById('chat-area').style.display = (eb === 3) ? 'flex' : 'none';
    document.getElementById('drawer-ebene4').style.display = (eb === 4) ? 'flex' : 'none';
    document.getElementById('ebene4-title-red').style.display = (eb === 4) ? 'block' : 'none';
    document.getElementById('counter-box').style.display = (eb >= 3) ? 'block' : 'none';

    // Inhalt Ebene 2 & Fortschritt
    if (eb === 2) {
        document.getElementById('main-text').innerHTML = `
            <div id="content-scroll" style="height:35vh; overflow-y:auto; padding-bottom:20px;">
                <p>Hier steht der tiefgründige Text zu <strong>${themen[tId]}</strong>...</p>
                <p>Man muss diesen Text bis unten lesen, um die Gefühls Forderung zu verstehen und für den Chat (Ebene 3) freigeschaltet zu werden.</p>
                <div style="height:400px;"></div> <button id="read-confirm" onclick="markAsRead(${tId})" style="width:100%; padding:15px; background:#00ff00; color:#000; font-weight:bold; border:none; cursor:pointer;">ICH HABE ALLES GELESEN & VERSTANDEN</button>
            </div>
        `;
    } else {
        document.getElementById('main-text').innerText = "Ebene " + eb + " von Thema " + (tId+1) + " aktiv.";
    }

    // Chat & Video Update
    if(eb === 3) document.getElementById('chat-box').innerHTML = welt.chat.join("");
    if(eb === 4) {
        const vc = document.getElementById('video-container');
        vc.innerHTML = "";
        for(let i=1; i<=8; i++) vc.innerHTML += `<div class="video-slot">CALL ${i}<br>KANDIDATEN-CHECK</div>`;
    }

    // Button-Logik (Weiter-Sperre)
    const btnNext = document.getElementById('btn-next');
    btnNext.style.visibility = (eb < 7) ? 'visible' : 'hidden';
    
    // Wenn Ebene 2 nicht gelesen, ist der Button deaktiviert für Ebene 3
    if (eb === 2 && !isGelesen) {
        btnNext.style.opacity = "0.3";
        btnNext.style.cursor = "not-allowed";
        btnNext.onclick = null;
    } else {
        btnNext.style.opacity = "1";
        btnNext.style.cursor = "pointer";
        btnNext.onclick = nextPage;
    }
    
    btnNext.innerText = "Ebene " + (eb + 1) + " →";

    // Dots aktualisieren
    for(let i=1; i<=7; i++) {
        document.getElementById('dot'+i).className = "dot" + (i===eb?" active":"");
    }
}

function markAsRead(id) {
    weltenDaten[id].gelesen = true;
    document.getElementById('num-'+id).className = "num num-gelesen";
    updateUI();
}

function sendeNachricht() {
    const inp = document.getElementById('chat-in');
    if(!inp.value.trim()) return;
    weltenDaten[tId].chat.unshift(`<div><strong>DU:</strong> ${inp.value}</div>`);
    inp.value = "";
    updateUI();
}

function nextPage() {
    if(weltenDaten[tId].ebene < 7) {
        weltenDaten[tId].ebene++;
        updateUI();
    }
}

function showDashboard() {
    document.getElementById('page-skelett').style.display = 'none';
    document.getElementById('dashboard').style.display = 'flex';
}
    </script>
</body>
</html>
