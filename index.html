<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>M&M-COMMUNITY - Die Stille Million (Master)</title>
    <style>
        /* GLOBAL & THEME */
        body { background-color: #000; color: #fff; font-family: 'Segoe UI', Arial, sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; height: 100vh; overflow: hidden; }
        
        /* ANIMATIONEN */
        @keyframes signalBlink { 0% { box-shadow: 0 0 5px #fff; } 50% { box-shadow: 0 0 25px #fff, 0 0 35px #003d8f; transform: scale(1.05); } 100% { box-shadow: 0 0 5px #fff; } }
        .signal-aktiv { animation: signalBlink 1.2s infinite ease-in-out !important; border: 2px solid #fff !important; cursor: pointer; background-color: inherit; }
        .elite-aktiv { background-color: #ffd700 !important; box-shadow: 0 0 20px #ffd700; color: #000 !important; cursor: pointer; border: 2px solid #fff; }

        /* DASHBOARD GRID */
        .grid { display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(5, 1fr); grid-auto-flow: column; gap: 10px; width: 95%; max-width: 1400px; margin-top: 20px; border: 3px solid #00ff00; padding: 15px; border-radius: 10px; background: rgba(0,20,0,0.2); }
        .box { display: flex; border: 2px solid #003d8f; background-color: #000; min-height: 55px; position: relative; overflow: hidden; transition: 0.3s; }
        .box:hover { border-color: #fff; }
        .num { width: 40px; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0; font-size: 0.9rem; }
        .text { padding: 5px 10px; text-transform: uppercase; font-size: 0.65rem; display: flex; align-items: center; cursor: pointer; flex-grow: 1; font-weight: 600; }

        /* STATUS FARBEN */
        .num-neutral { background-color: #003d8f; color: #fff; }
        .num-gelesen { background-color: #ffd700; color: #000; }
        .num-offen { background-color: #ff4d4d; color: #fff; }
        .num-fertig { background-color: #00ff00; color: #000; }

        /* LAYOUT TAFEL */
        .tafel-layout { display: flex; align-items: center; justify-content: center; width: 100%; position: relative; height: 25vh; margin-top: 10px; }
        .info-section-ebene { width: 85%; height: 100%; border: 2px solid #003d8f; background: #000; position: relative; overflow: hidden; display: flex; justify-content: center; align-items: center; z-index: 10; }
        .buttons-links, .buttons-rechts { position: absolute; display: flex; flex-direction: column; gap: 12px; z-index: 20; }
        .buttons-links { left: 2%; } .buttons-rechts { right: 2%; }
        .oval-side { width: 50px; height: 25px; border-radius: 15px; border: 1.5px solid #fff; opacity: 0.8; transition: 0.3s; }
        .ov-schwarz { background: #000; border-color: #003d8f; }
        .ov-rot { background: #ff0000; } .ov-gelb { background: #ffff00; }

        /* CHAT & VIDEO */
        #chat-area, #drawer-ebene4 { width: 90%; display: none; flex-direction: column; margin-top: 10px; }
        .chat-msgs { height: 40vh; overflow-y: auto; padding: 15px; background: rgba(10,10,10,0.8); border: 1px solid #003d8f; margin-bottom: 5px; scrollbar-width: none; }
        .video-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 15px; }
        .video-slot { aspect-ratio: 16/9; background: #111; border: 1px solid #003d8f; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; color: #444; }

        /* SCHUBLADEN */
        .schublade { border: 1px solid #003d8f; margin-bottom: 5px; background: #050505; }
        .schublade-header { padding: 12px; cursor: pointer; display: flex; justify-content: space-between; background: #001a3d; font-weight: bold; }
        .schublade-content { max-height: 0; overflow: hidden; transition: 0.5s; padding: 0 15px; }
        .schublade.open .schublade-content { max-height: 500px; padding: 15px; }
        textarea { width: 100%; height: 150px; background: #111; color: #fff; border: 1px solid #003d8f; padding: 10px; box-sizing: border-box; }

        /* NAV */
        .bottom-nav { position: fixed; bottom: 0; width: 100%; height: 70px; background: #000; display: flex; justify-content: space-between; align-items: center; padding: 0 30px; border-top: 1px solid #333; box-sizing: border-box; }
        .nav-btn { background: #ffd700; color: #000; border: none; padding: 10px 25px; font-weight: bold; cursor: pointer; border-radius: 4px; }
        .dot { width: 12px; height: 12px; background: #333; border-radius: 50%; }
        .dot.active { background: #ffd700; box-shadow: 0 0 10px #ffd700; }
    </style>
</head>
<body>

    <div id="dashboard" style="width: 100%; display: flex; flex-direction: column; align-items: center; padding-top: 20px;">
        <div class="logo-ring" ondblclick="adminUnlock()" style="width:100px; height:100px; border-radius:50%; border:3px solid #fff; background:#003d8f; display:flex; flex-direction:column; align-items:center; justify-content:center; cursor:pointer;">
            <div style="font-weight:900; font-size:1.8rem;">M&M</div>
            <div style="font-size:0.5rem; letter-spacing:1px;">COMMUNITY</div>
        </div>
        <div style="text-align:center; margin-top:15px;">
            <h1 style="margin:0; font-size:2.5rem; font-weight:900;">DIE STILLE MILLION</h1>
            <p style="color:#00ff00; letter-spacing:2px;">STATUS: SYSTEM BEREIT</p>
        </div>
        <div class="grid" id="main-grid"></div>
        <div style="width:95%; display:flex; gap:10px; margin-top:15px; margin-bottom:100px;">
            <div class="box" style="flex:1; border-color:#fff; cursor:pointer;" onclick="gate('gast')"><div class="num" style="background:#333">G</div><div class="text">Gast-Zugang</div></div>
            <div class="box" style="flex:1; border-color:#8b00ff; cursor:pointer;" onclick="gate('verify')"><div class="num" style="background:#8b00ff">V</div><div class="text" style="color:#ffd700">Verifizierter Status</div></div>
        </div>
    </div>

    <div id="page-skelett" style="display:none; width:100%; flex-direction:column; align-items:center; height:100vh;">
        <h1 id="info-titel" style="margin:10px 0; font-weight:900; text-transform:uppercase;">Sektor-Übersicht</h1>
        
        <div class="tafel-layout">
            <div class="buttons-links">
                <div class="oval-side ov-schwarz" id="sig-l1"></div>
                <div class="oval-side ov-rot" id="sig-l4" onclick="portal(4)"></div>
            </div>
            <div class="info-section-ebene">
                <div id="counter" style="position:absolute; top:5px; right:5px; background:#000; border:1px solid #003d8f; padding:5px; font-size:0.7rem; text-align:center;">
                    STILLE MILLION<br><span style="color:red; font-weight:900;">842.336</span>
                </div>
                <div style="color:rgba(255,255,255,0.1); font-weight:900; font-size:2rem;">M&M COMMUNITY</div>
            </div>
            <div class="buttons-rechts">
                <div class="oval-side ov-gelb" id="sig-r4" onclick="portal(3)"></div>
            </div>
        </div>

        <div id="ebene2-text" style="width:85%; color:#ccc; margin-top:20px; font-size:1.2rem; line-height:1.6; text-align:justify; overflow-y:auto; height:40vh;"></div>

        <div id="chat-area">
            <div class="chat-msgs" id="chat-box"></div>
            <div style="display:flex; gap:5px;">
                <input type="text" id="chat-input" placeholder="Nachricht..." style="flex:1; padding:15px; background:#111; color:#fff; border:1px solid #003d8f; outline:none;" onkeypress="if(event.key==='Enter') sendChat()">
                <button onclick="sendChat()" style="background:#003d8f; color:#fff; border:none; padding:0 30px; cursor:pointer; font-weight:bold;">SENDEN</button>
            </div>
        </div>

        <div id="drawer-ebene4" style="overflow-y:auto; height:55vh;">
            <div style="background:red; color:#fff; padding:10px; text-align:center; font-weight:900; margin-bottom:10px;" id="ebene4-head">VIDEO-KONFERENZ SEKTOR</div>
            <div class="video-grid">
                <div class="video-slot" style="border-color:#0f0; color:#0f0;">USER (DU)</div>
                <div class="video-slot">SLOT 2</div><div class="video-slot">SLOT 3</div><div class="video-slot">SLOT 4</div>
            </div>
            <div id="schubladen-area"></div>
        </div>

        <div id="ebene5-admin" style="display:none; text-align:center; margin-top:50px;">
            <h1 style="color:#ffd700; font-size:3.5rem; text-shadow:0 0 20px #ffd700;">ADMIN CONTROL CENTER</h1>
            <p>Alle Sektoren qualifiziert. Die Stille Million wird nun gerufen.</p>
        </div>

        <div class="bottom-nav">
            <button class="nav-btn" onclick="showDashboard()">← DASHBOARD</button>
            <div style="display:flex; gap:10px;" id="dots"></div>
            <button class="nav-btn" onclick="nextSektor()">NÄCHSTER SEKTOR →</button>
        </div>
    </div>

    <script>
        const themen = ["Recht auf Gefühls Forderung", "Wie werde ich Mensch", "Glaube an Friede", "Programm für Bürgerliche Rechte", "Moralische Pflicht und Verantwortung", "Menschlichkeit Wiederherstellung", "Kinderschutz-Pflicht-Elternrechte", "Wahre Richtung und Kunst", "LGBTQ und Kirche", "Trend and Tradition", "Religionsbekenntnis oder Selbstwahl", "Gesundheitswesen und Verhalten", "Arbeitswelt und Du", "Mobbing am Arbeitsplatz", "Jugendsprecher", "Ratgeber für Pensionisten", "Sozialgefallen und Widerkehr", "Nachbarschaft und Gemeinschaft", "Mensch und Technik", "Die Brücke"];
        let ebene = 1, tId = 0, access = false, gelesene = new Set(), interaktionen = {}, chats = {};
        
        // Initialisierung
        themen.forEach((t, i) => { 
            interaktionen[i] = 0; 
            chats[i] = "<i>Dialog-System bereit...</i>";
            document.getElementById('main-grid').innerHTML += `<div class="box"><div class="num num-neutral" id="num-${i}">${i+1}</div><div class="text" onclick="openSektor(${i})">${t}</div></div>`;
            document.getElementById('schubladen-area').innerHTML += `<div class="schublade" id="d-${i}"><div class="schublade-header" onclick="toggleD(${i})">SEKTOR ${i+1}: ${t} <span>▼</span></div><div class="schublade-content"><textarea placeholder="Schreibe hier die Sektor-Dokumentation..."></textarea><br><button class="nav-btn" style="background:#0f0; margin-top:5px; margin-bottom:10px;">SICHERN</button></div></div>`;
        });
        for(let i=1; i<=5; i++) document.getElementById('dots').innerHTML += `<div id="dot${i}" class="dot ${i===1?'active':''}"></div>`;

        function gate(type) { access = true; alert(type === 'verify' ? "Status verifiziert!" : "Gast-Zugang aktiv."); }

        function openSektor(id) {
            if(!access) return alert("Wähle erst einen Zugangs-Status!");
            if(id !== 0 && !gelesene.has(id-1)) return alert("Reihenfolge einhalten!");
            tId = id; ebene = 2; gelesene.add(id);
            document.getElementById('dashboard').style.display = 'none';
            document.getElementById('page-skelett').style.display = 'flex';
            update();
        }

        function update() {
            // UI Sichtbarkeit
            document.getElementById('ebene2-text').style.display = (ebene === 2) ? 'block' : 'none';
            document.getElementById('chat-area').style.display = (ebene === 3) ? 'flex' : 'none';
            document.getElementById('drawer-ebene4').style.display = (ebene === 4) ? 'flex' : 'none';
            document.getElementById('ebene5-admin').style.display = (ebene === 5) ? 'block' : 'none';

            // Titel & Texte
            document.getElementById('info-titel').innerText = themen[tId];
            document.getElementById('ebene2-text').innerText = `Detaillierte Ausführung zum Sektor ${tId+1} (${themen[tId]}). Studium der moralischen und gesellschaftlichen Verpflichtungen...`;
            document.getElementById('chat-box').innerHTML = chats[tId];
            document.getElementById('ebene4-head').innerText = `VIDEO-KONFERENZ: ${themen[tId]}`;

            // Signale
            const gelb = gelesene.size === 20;
            const rot = Object.values(interaktionen).every(v => v >= 20);
            document.getElementById('sig-r4').classList.toggle('signal-aktiv', gelb);
            document.getElementById('sig-l4').classList.toggle('signal-aktiv', rot);
            
            // Admin-Portal
            if(rot && ebene < 5) {
                document.getElementById('sig-l1').className = "oval-side elite-aktiv";
                document.getElementById('sig-l1').onclick = () => { ebene = 5; update(); };
            }

            // Dots & Farben
            for(let i=1; i<=5; i++) document.getElementById('dot'+i).className = 'dot ' + (i===ebene?'active':'');
            themen.forEach((_, i) => {
                const n = document.getElementById('num-'+i);
                if(interaktionen[i] >= 20) n.className = "num num-fertig";
                else if(interaktionen[i] > 0) n.className = "num num-offen";
                else if(gelesene.has(i)) n.className = "num num-gelesen";
            });
        }

        function portal(e) {
            if(e === 3 && document.getElementById('sig-r4').classList.contains('signal-aktiv')) { ebene = 3; update(); }
            else if(e === 4 && document.getElementById('sig-l4').classList.contains('signal-aktiv')) { ebene = 4; update(); }
            else alert("ZUGANG VERWEIGERT: Anforderungen nicht erfüllt!");
        }

        function sendChat() {
            const inp = document.getElementById('chat-input');
            if(!inp.value) return;
            chats[tId] += `<div><b>DU:</b> ${inp.value}</div>`;
            if(interaktionen[tId] < 20) interaktionen[tId]++;
            inp.value = ""; 
            document.getElementById('chat-box').innerHTML = chats[tId];
            document.getElementById('chat-box').scrollTop = 9999;
            update();
        }

        function nextSektor() { if(tId < 19) { tId++; gelesene.add(tId); update(); } }
        function showDashboard() { document.getElementById('page-skelett').style.display='none'; document.getElementById('dashboard').style.display='flex'; }
        function toggleD(id) { document.querySelectorAll('.schublade').forEach((s,i) => s.classList.toggle('open', i===id && !s.classList.contains('open'))); }
        function adminUnlock() { gelesene = new Set(themen.keys()); themen.forEach((_,i) => interaktionen[i]=20); access=true; update(); alert("ADMIN UNLOCK"); }
    </script>
</body>
</html>
