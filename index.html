<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>M&M-COMMUNITY - Das Fundament</title>
    <style>
        body { 
            background-color: #000; color: #fff; 
            font-family: 'Segoe UI', Arial, sans-serif; 
            margin: 0; padding: 0; 
            display: flex; flex-direction: column; align-items: center; 
            height: 100vh; overflow: hidden; 
        }

        /* ANIMATIONEN */
        @keyframes kenburns {
            0% { transform: scale(1); }
            50% { transform: scale(1.15) translate(-1%, -1%); }
            100% { transform: scale(1); }
        }
        @keyframes fadeEffect {
            0% { opacity: 0; }
            15% { opacity: 0.5; } 
            85% { opacity: 0.5; }
            100% { opacity: 0; }
        }

        .dashboard-header { 
            width: 100%; position: absolute; top: 3%; 
            display: flex; justify-content: flex-start; padding: 0 2%; 
            box-sizing: border-box; z-index: 20;
        }

        .logo-ring { 
            width: 110px; height: 110px; border: 3px solid #fff; background-color: #003d8f; 
            border-radius: 50%; display: flex; flex-direction: column; justify-content: center; align-items: center; 
        }
        .logo-mm { font-size: 2rem; font-weight: 900; line-height: 0.8; }
        .logo-community { font-size: 0.6rem; letter-spacing: 1.5px; text-transform: uppercase; font-weight: bold; }

        .top-container { width: 100%; display: flex; flex-direction: column; align-items: center; margin-top: 2vh; flex-shrink: 0; position: relative; }
        .page-title-white { text-transform: uppercase; font-size: 2.2rem; margin: 0 0 10px 0; font-weight: 900; color: #fff; }

        .info-section { 
            width: 80%; height: 27.5vh; border: 2px solid #003d8f; 
            display: flex; flex-direction: column; justify-content: center; align-items: center; 
            background-color: #000; position: relative; overflow: hidden;
        }

        /* ZÄHLER - Bündig oben rechts an der Tafel */
        #counter-box {
            position: absolute;
            right: 0; 
            top: 0; 
            width: 110px;
            padding: 5px;
            border-left: 2px solid #003d8f;
            border-bottom: 2px solid #003d8f;
            background: #000;
            text-align: center;
            display: none;
            z-index: 100;
        }
        .counter-label { font-size: 0.45rem; color: #fff; display: block; text-transform: uppercase; }
        .counter-value { font-size: 0.9rem; font-weight: 900; color: #ff0000; }

        .werbe-bild-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; opacity: 0; z-index: 1; transition: opacity 1s; }
        .bild-aktiv { animation: kenburns 20s infinite ease-in-out, fadeEffect 10s infinite; }

        .tafel-intern-logo { position: absolute; top: 10px; left: 10px; transform: scale(0.6); transform-origin: top left; z-index: 5; }
        .werbe-text-overlay { color: rgba(255, 255, 255, 0.3); font-weight: bold; font-size: 1.2rem; letter-spacing: 5px; z-index: 5; text-align: center; text-shadow: 2px 2px 5px #000; }

        /* CHAT BEREICH - 90% BREIT & PLATZ MAXIMIERT */
        .content-free-zone { width: 100%; flex-grow: 1; display: flex; flex-direction: column; align-items: center; margin-top: 2vh; }
        
        #chat-area {
            width: 90%; 
            height: 48vh; 
            border: 2px solid #003d8f; 
            display: none; 
            flex-direction: column; 
            background: #050505;
        }
        .chat-msgs { flex-grow: 1; padding: 15px; overflow-y: auto; color: #ccc; text-align: left; font-size: 0.95rem; }
        .chat-input-row { display: flex; border-top: 2px solid #003d8f; }
        .chat-input-row input { flex-grow: 1; background: transparent; border: none; color: #fff; padding: 12px; outline: none; }
        .chat-input-row button { background: #003d8f; color: #fff; border: none; padding: 0 25px; cursor: pointer; font-weight: bold; text-transform: uppercase; font-size: 0.8rem; }

        /* DASHBOARD GRID */
        .grid { display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(5, 1fr); grid-auto-flow: column; gap: 15px; width: 95%; max-width: 1400px; margin-top: 20px; }
        .box, .fundament-box { display: flex; border: 2px solid #003d8f; background-color: #000; min-height: 60px; position: relative; }
        .num { width: 45px; display: flex; align-items: center; justify-content: center; background-color: #003d8f; font-weight: bold; }
        .text { padding: 15px; text-transform: uppercase; font-size: 0.75rem; display: flex; align-items: center; cursor: pointer; flex-grow: 1; }

        /* SCHMÄLERE NAVIGATION */
        .bottom-nav { position: fixed; bottom: 10px; width: 95%; display: flex; justify-content: space-between; align-items: center; z-index: 100; background: rgba(0,0,0,0.9); padding: 5px 0; border-top: 1px solid #333; }
        .nav-btn { padding: 8px 20px; border: 1px solid #fff; background: none; color: #fff; cursor: pointer; text-transform: uppercase; font-size: 0.75rem; }
        .dot-container { display: flex; gap: 8px; }
        .dot { width: 7px; height: 7px; border: 1px solid #fff; border-radius: 50%; opacity: 0.3; }
        .dot.active { background: #fff; opacity: 1; }
    </style>
</head>
<body>

    <div id="dashboard" style="width: 100%; display: flex; flex-direction: column; align-items: center; margin-top: 3vh;">
        <div class="dashboard-header"><div class="logo-ring"><div class="logo-mm">M&M</div><div class="logo-community">COMMUNITY</div></div></div>
        <div class="info-section">
            <h1 style="font-size: 2.8rem; margin: 0; font-weight: 900;">DAS WAS & WARUM</h1>
            <h2 style="color: #003d8f; font-size: 1.8rem; margin: 5px 0;">DIE STILLE MILLION</h2>
            <p style="max-width: 85%; color: #ccc; font-size: 1.4rem; margin: 10px 0 0 0;">Das Fundament für das Kollektiv.</p>
        </div>
        <div class="grid" id="main-grid"></div>
    </div>

    <div id="page-skelett" style="display: none; width: 100%; flex-direction: column; align-items: center; height: 100vh;">
        <div class="top-container">
            <h1 id="info-titel" class="page-title-white"></h1>
            <div class="info-section">
                <div class="werbe-bild-bg" id="werbe-bg"></div>
                <div class="tafel-intern-logo"><div class="logo-ring"><div class="logo-mm">M&M</div><div class="logo-community">COMMUNITY</div></div></div>
                <span class="werbe-text-overlay">HIER IST PLATZ FÜR WERBUNG</span>
                <div id="counter-box">
                    <span class="counter-label">STILLE MILLION</span>
                    <span class="counter-value">842.336</span>
                </div>
            </div>
        </div>
        <div class="content-free-zone">
            <p id="main-text" style="width: 80%; text-align: center; color: #ccc; font-size: 1.2rem;"></p>
            <div id="chat-area">
                <div class="chat-msgs" id="chat-box"><i>System: Herzen sind geweckt. Tauscht euch aus...</i></div>
                <div class="chat-input-row">
                    <input type="text" placeholder="Nachricht...">
                    <button>SENDEN</button>
                </div>
            </div>
        </div>
    </div>

    <div class="bottom-nav">
        <button id="btn-back" class="nav-btn" style="visibility: hidden;" onclick="showDashboard()">← Zurück</button>
        <div class="dot-container" id="dot-holder"></div>
        <button id="btn-next" class="nav-btn" style="visibility: hidden;" onclick="nextPage()">Weiter →</button>
    </div>

    <script>
        const themen = ["Recht auf Gefühlsforderung", "Wie werde ich Mensch", "Glaube an Friede", "Bürgerliche Rechte", "Moralische Pflicht", "Menschlichkeit", "Kinderschutz", "Wahre Richtung", "LGBTQ und Kirche", "Trend und Tradition", "Religionswahl", "Gesundheit", "Arbeitswelt", "Mobbing", "Jugendsprecher", "Pensionisten", "Sozialgefallen", "Nachbarschaft", "Technik", "Die Brücke"];
        let aktuelleEbene = 1;
        let bildIndex = 1;
        let wechselInterval;
        let themaId = 10;

        const dotHolder = document.getElementById('dot-holder');
        for(let i=1; i<=7; i++) dotHolder.innerHTML += `<div id="dot${i}" class="dot ${i==1?'active':''}"></div>`;

        const grid = document.getElementById('main-grid');
        themen.forEach((t, i) => {
            grid.innerHTML += `<div class="box" onclick="showInfo('${t}', ${i*10})"><div class="num">${i+1}</div><div class="text">${t}</div></div>`;
        });

        function showInfo(t, id) {
            aktuelleEbene = 2;
            themaId = id;
            document.getElementById('dashboard').style.display = 'none';
            document.getElementById('page-skelett').style.display = 'flex';
            document.getElementById('info-titel').innerText = t;
            document.getElementById('main-text').innerText = "Inhalt für " + t + "...";
            updateUI();
            startRotation();
        }

        function nextPage() { if(aktuelleEbene < 7) { aktuelleEbene++; updateUI(); } }

        function updateUI() {
            const isChat = aktuelleEbene === 3;
            document.getElementById('chat-area').style.display = isChat ? 'flex' : 'none';
            document.getElementById('main-text').style.display = isChat ? 'none' : 'block';
            document.getElementById('counter-box').style.display = aktuelleEbene >= 3 ? 'block' : 'none';
            document.getElementById('btn-back').style.visibility = 'visible';
            document.getElementById('btn-next').style.visibility = 'visible';
            if(isChat) document.getElementById('info-titel').innerText = "LIVE CHAT - DIALOG";
            for(let i=1; i<=7; i++) document.getElementById('dot'+i).classList.toggle('active', i === aktuelleEbene);
        }

        function showDashboard() {
            aktuelleEbene = 1;
            clearInterval(wechselInterval);
            document.getElementById('page-skelett').style.display = 'none';
            document.getElementById('dashboard').style.display = 'flex';
            document.getElementById('btn-back').style.visibility = 'hidden';
            document.getElementById('btn-next').style.visibility = 'hidden';
            for(let i=1; i<=7; i++) document.getElementById('dot'+i).classList.toggle('active', i === 1);
        }

        function updateImage() {
            const bg = document.getElementById('werbe-bg');
            bg.classList.remove('bild-aktiv');
            setTimeout(() => {
                bg.style.backgroundImage = `url('https://picsum.photos/seed/${themaId + bildIndex}/1200/600')`;
                bg.classList.add('bild-aktiv');
            }, 50);
        }

        function startRotation() {
            clearInterval(wechselInterval);
            updateImage();
            wechselInterval = setInterval(() => { bildIndex++; updateImage(); }, 10000);
        }
    </script>
</body>
</html>
