<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>M&M-COMMUNITY - Das Fundament</title>
    <style>
        /* BASIS-LAYOUT */
        body { 
            background-color: #000; color: #fff; 
            font-family: 'Segoe UI', Arial, sans-serif; 
            margin: 0; padding: 0; 
            display: flex; flex-direction: column; align-items: center; 
            height: 100vh; overflow: hidden; 
        }

        /* ANIMATIONEN */
        @keyframes kenburns {
            0% { transform: scale(1) translate(0, 0); }
            50% { transform: scale(1.15) translate(-1%, -1%); }
            100% { transform: scale(1) translate(0, 0); }
        }
        @keyframes fadeEffect {
            0% { opacity: 0; }
            15% { opacity: 0.4; } 
            85% { opacity: 0.4; } 
            100% { opacity: 0; }  
        }

        /* HEADER & LOGO */
        .dashboard-header { 
            width: 100%; height: 120px;
            display: flex; justify-content: flex-start; padding: 20px; 
            box-sizing: border-box; z-index: 20;
        }
        .logo-ring { 
            width: 110px; height: 110px; border: 3px solid #fff; background-color: #003d8f; 
            border-radius: 50%; display: flex; flex-direction: column; justify-content: center; align-items: center; 
        }
        .logo-mm { font-size: 2rem; font-weight: 900; line-height: 0.8; }
        .logo-community { font-size: 0.6rem; letter-spacing: 1.5px; text-transform: uppercase; font-weight: bold; }

        /* TAFEL (INFO-SECTION) */
        .info-section { 
            width: 80%; height: 26vh; border: 2px solid #003d8f; 
            display: flex; flex-direction: column; justify-content: center; align-items: center; 
            background-color: #000; position: relative; overflow: hidden; margin-top: 10px;
        }
        .werbe-bild-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; opacity: 0; z-index: 1; }
        .bild-aktiv { animation: kenburns 20s infinite ease-in-out, fadeEffect 10s infinite; }
        .tafel-intern-logo { position: absolute; top: 10px; left: 10px; transform: scale(0.6); transform-origin: top left; z-index: 5; }
        .werbe-text-overlay { color: rgba(255, 255, 255, 0.3); font-weight: bold; font-size: 1.2rem; letter-spacing: 5px; z-index: 5; text-align: center; text-shadow: 2px 2px 5px #000; }

        /* GRID */
        .grid { 
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            grid-template-rows: repeat(5, 1fr); 
            grid-auto-flow: column;
            gap: 10px; 
            width: 95%; 
            max-width: 1450px; 
            margin-top: 20px;
        }
        .box, .fundament-box { display: flex; border: 2px solid #003d8f; background-color: #000; min-height: 58px; position: relative; overflow: hidden; }
        .num { width: 38px; display: flex; align-items: center; justify-content: center; background-color: #003d8f; font-weight: bold; flex-shrink: 0; font-size: 0.85rem; }
        .text { 
            padding: 4px 8px; text-transform: uppercase; 
            font-size: 0.6rem; 
            display: flex; align-items: center; cursor: pointer; flex-grow: 1; 
            line-height: 1.1; word-wrap: break-word; overflow: hidden;
            font-weight: 600;
        }

        /* FUNDAMENT */
        .fundament-container { display: flex; width: 95%; max-width: 1450px; gap: 10px; margin-top: 10px; }
        .fundament-box { flex: 1; }
        .locked-overlay { position: absolute; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.85); display: flex; align-items: center; justify-content: center; font-size: 0.65rem; font-weight: bold; text-align: center; }

        /* EBENE 2 & 3 SPEZIFIKATIONEN */
        .top-container { width: 100%; display: flex; flex-direction: column; align-items: center; margin-top: 1vh; position: relative; }
        .page-title-white { text-transform: uppercase; font-size: 1.8rem; margin-bottom: 5px; font-weight: 900; color: #fff; }

        #counter-box {
            position: absolute; right: 0; top: 0; width: 100px; padding: 5px;
            border-left: 2px solid #003d8f; border-bottom: 2px solid #003d8f;
            background: #000; text-align: center; display: none; z-index: 100;
        }
        .counter-label { font-size: 0.4rem; color: #fff; display: block; }
        .counter-value { font-size: 0.85rem; font-weight: 900; color: #ff0000; }

        /* CHAT BEREICH */
        #chat-area {
            width: 90%; height: 50vh; border: 2px solid #003d8f; 
            display: none; flex-direction: column; background: #050505; margin-top: 1vh;
        }
        .chat-msgs { flex-grow: 1; padding: 10px; overflow-y: auto; color: #ccc; font-size: 0.9rem; text-align: left; }
        .chat-input-row { display: flex; border-top: 2px solid #003d8f; }
        .chat-input-row input { flex-grow: 1; background: transparent; border: none; color: #fff; padding: 10px; outline: none; }
        .chat-input-row button { background: #003d8f; color: #fff; border: none; padding: 0 20px; cursor: pointer; font-weight: bold; }

        /* NAVIGATION */
        .bottom-nav { position: fixed; bottom: 10px; width: 95%; display: flex; justify-content: space-between; align-items: center; padding: 5px 0; border-top: 1px solid #222; background: black; z-index: 100; }
        .nav-btn { padding: 8px 20px; border: 1px solid #fff; background: none; color: #fff; cursor: pointer; text-transform: uppercase; font-size: 0.75rem; }
        .dot { width: 6px; height: 6px; border: 1px solid #fff; border-radius: 50%; opacity: 0.3; }
        .dot.active { background: #fff; opacity: 1; }
    </style>
</head>
<body>

    <div id="dashboard" style="width: 100%; display: flex; flex-direction: column; align-items: center;">
        <div class="dashboard-header">
            <div class="logo-ring"><div class="logo-mm">M&M</div><div class="logo-community">COMMUNITY</div></div>
        </div>
        <div class="info-section">
            <h1 style="font-size: 2.8rem; margin: 0; font-weight: 900;">DAS WAS & WARUM</h1>
            <h2 style="color: #003d8f; font-size: 1.8rem; margin: 5px 0;">DIE STILLE MILLION</h2>
            <p style="max-width: 85%; color: #ccc; font-size: 1.1rem; margin: 10px 0 0 0; text-align: center;">
                Die M&M-Community ist das Fundament für alle, die im Kollektiv wachsen wollen. Die Wahl der Vorsitzenden erfolgt erst nach Erreichen der stillen Million.
            </p>
        </div>
        <div class="grid" id="main-grid"></div>
        <div class="fundament-container">
            <div class="fundament-box"><div class="num">21</div><div class="text">Kapital und Verwaltung</div><div class="locked-overlay">TRANSPARENZ ERST NACH DER STILLEN MILLION</div></div>
            <div class="fundament-box"><div class="num">22</div><div class="text">DAS KOLLEKTIV</div><div class="locked-overlay">TRANSPARENZ ERST NACH DER STILLEN MILLION</div></div>
        </div>
    </div>

    <div id="page-skelett" style="display: none; width: 100%; flex-direction: column; align-items: center; height: 100vh;">
        <div class="top-container">
            <h1 id="info-titel" class="page-title-white"></h1>
            <div class="info-section">
                <div class="werbe-bild-bg" id="werbe-bg"></div>
                <div class="tafel-intern-logo">
                    <div class="logo-ring"><div class="logo-mm">M&M</div><div class="logo-community">COMMUNITY</div></div>
                </div>
                <span class="werbe-text-overlay">HIER IST PLATZ FÜR WERBUNG</span>
                <div id="counter-box"><span class="counter-label">STILLE MILLION</span><span class="counter-value">842.336</span></div>
            </div>
        </div>
        <div id="chat-area">
            <div class="chat-msgs" id="chat-box"><i>System: Dialog bereit...</i></div>
            <div class="chat-input-row"><input type="text" placeholder="Nachricht..."><button>SENDEN</button></div>
        </div>
        <p id="main-text" style="width: 80%; text-align: justify; color: #ccc; margin-top: 2vh; font-size: 1.1rem; line-height: 1.6; max-width: 1200px;"></p>
    </div>

    <div class="bottom-nav">
        <button id="btn-back" class="nav-btn" style="visibility: hidden;" onclick="showDashboard()">← Zurück</button>
        <div style="display: flex; gap: 8px;" id="dot-holder"></div>
        <button id="btn-next" class="nav-btn" style="visibility: hidden;">Weiter →</button>
    </div>

<script>
    // ... (themen und inhaltsTexte bleiben unangetastet) ...

    let ebene = 1;
    let aktuellerThemenIndex = 0;
    // Das Gedächtnis des Systems: Es speichert nur, WELCHE Boxen besucht wurden
    let besuchteBoxen = new Set(); 

    const grid = document.getElementById('main-grid');
    themen.forEach((t, i) => {
        grid.innerHTML += `<div class="box"><div class="num">${i+1}</div><div class="text" onclick="oeffneBox(${i})">${t}</div></div>`;
    });

    function oeffneBox(index) {
        aktuellerThemenIndex = index;
        besuchteBoxen.add(index); // Der stille Beobachter merkt sich die Box
        
        ebene = 2;
        document.getElementById('dashboard').style.display = 'none';
        document.getElementById('page-skelett').style.display = 'flex';
        
        prüfeChatFreischaltung(); // Prüfen ohne den User zu belehren
        updateUI();
    }

    function prüfeChatFreischaltung() {
        // Der Button auf Seite 2 (Dashboard) wird nur aktiv, wenn das Set 20 Einträge hat
        if (besuchteBoxen.size >= 20) {
            // Hier wird später der Chat-Button auf Seite 2 zum Leuchten gebracht
            console.log("Die Leiter ist komplett. Der Filter war erfolgreich.");
        }
    }

    function updateUI() {
        const textElement = document.getElementById('main-text');
        const titelElement = document.getElementById('info-titel');
        const nextBtn = document.getElementById('btn-next');
        const backBtn = document.getElementById('btn-back');

        const thema = themen[aktuellerThemenIndex];
        titelElement.innerText = thema;
        textElement.innerText = inhaltsTexte[thema] || "Inhalt für '" + thema + "' wird im Kollektiv erarbeitet...";

        // Navigation innerhalb der Boxen (Immer frei beweglich)
        backBtn.style.visibility = 'visible';
        backBtn.innerText = "← ZURÜCK"; // Führt zum Dashboard oder zur Box davor
        backBtn.onclick = (aktuellerThemenIndex > 0) ? () => { oeffneBox(aktuellerThemenIndex - 1); } : () => { showDashboard(); };

        nextBtn.style.visibility = (aktuellerThemenIndex < 19) ? 'visible' : 'hidden';
        nextBtn.innerText = "WEITER →";
        nextBtn.onclick = () => { oeffneBox(aktuellerThemenIndex + 1); };
    }

    function showDashboard() {
        ebene = 1;
        document.getElementById('page-skelett').style.display = 'none';
        document.getElementById('dashboard').style.display = 'flex';
        // Falls der Chat frei ist, leuchtet jetzt der Knopf auf Seite 2
    }
</script>
</body>
</html>
      
    
          
      
