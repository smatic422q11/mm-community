<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>M&M-COMMUNITY - Finaler Admin Modus</title>
    <style>
        /* DEIN BASIS-LAYOUT & ANIMATIONEN */
        body { background-color: #000; color: #fff; font-family: 'Segoe UI', Arial, sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; height: 100vh; overflow: hidden; }

        @keyframes kenburns { 0% { transform: scale(1) translate(0, 0); } 50% { transform: scale(1.15) translate(-1%, -1%); } 100% { transform: scale(1) translate(0, 0); } }
        @keyframes fadeEffect { 0% { opacity: 0; } 15% { opacity: 0.4; } 85% { opacity: 0.4; } 100% { opacity: 0; } }
        @keyframes signalBlink { 0% { box-shadow: 0 0 5px #fff; opacity: 0.8; } 50% { box-shadow: 0 0 25px #fff, 0 0 35px #003d8f; opacity: 1; transform: scale(1.05); } 100% { box-shadow: 0 0 5px #fff; opacity: 0.8; } }
        @keyframes eliteBlink { 0% { background-color: #000; box-shadow: 0 0 5px #333; } 50% { background-color: #444; box-shadow: 0 0 20px #666, inset 0 0 10px #000; transform: scale(1.1); } 100% { background-color: #000; box-shadow: 0 0 5px #333; } }

        .signal-aktiv { animation: signalBlink 1.0s infinite ease-in-out !important; border: 2px solid #fff !important; cursor: pointer; }
        .elite-aktiv { animation: eliteBlink 2s infinite ease-in-out !important; border: 2px solid #ffd700 !important; cursor: pointer; }

        /* KYC OVERLAY */
        #kyc-overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.98); z-index:10000; display:flex; justify-content:center; align-items:center; }
        .kyc-card { width:450px; background:#050505; border:2px solid #003d8f; padding:40px; border-radius:15px; text-align:center; box-shadow: 0 0 30px rgba(0,61,143,0.4); }

        /* HEADER & LOGO */
        .dashboard-header { width: 100%; position: absolute; top: 3%; display: flex; justify-content: flex-start; padding: 0 2%; box-sizing: border-box; z-index: 20; }
        .logo-ring { width: 110px; height: 110px; border: 3px solid #fff; background-color: #003d8f; border-radius: 50%; display: flex; flex-direction: column; justify-content: center; align-items: center; cursor: pointer; }
        .logo-mm { font-size: 2rem; font-weight: 900; line-height: 0.8; }
        .logo-community { font-size: 0.6rem; letter-spacing: 1.5px; text-transform: uppercase; font-weight: bold; }

        /* GRID & BOXEN */
        .grid { display: grid; grid-template-columns: repeat(4, 1fr); grid-auto-flow: column; gap: 10px; width: 95%; max-width: 1450px; margin-top: 30px; border: 3px solid #00ff00; padding: 15px; border-radius: 10px; }
        .box { display: flex; border: 2px solid #003d8f; background-color: #000; min-height: 58px; position: relative; overflow: hidden; }
        .num { width: 38px; display: flex; align-items: center; justify-content: center; background-color: #003d8f; font-weight: bold; font-size: 0.85rem; }
        .text { padding: 4px 8px; text-transform: uppercase; font-size: 0.6rem; display: flex; align-items: center; cursor: pointer; flex-grow: 1; font-weight: 600; }

        /* TAFEL & EBENEN */
        .info-section { width: 80%; height: 26vh; border: 2px solid #003d8f; display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: #000; position: relative; overflow: hidden; margin-top: 2vh; }
        .info-section-ebene { width: 90% !important; height: 26vh; border: 2px solid #003d8f; background-color: #000; position: relative; overflow: hidden; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 10; box-shadow: 0 0 15px rgba(0, 61, 143, 0.5); }
        .oval-side { width: 45px; height: 22px; border-radius: 12px; border: 1px solid #fff; opacity: 0.8; transition: all 0.3s; margin: 7px 0; }
        .ov-schwarz { background: #000; border: 1.5px solid #003d8f; }
        .ov-gelb { background: #ffff00; } .ov-rot { background: #ff0000; }
        
        #chat-area, #drawer-ebene4 { width: 90%; display: none; flex-grow: 1; flex-direction: column; margin-top: 10px; margin-bottom: 70px; }
        .chat-msgs { flex: 1; overflow-y: auto; padding: 10px; border: 1px solid #333; margin-bottom: 10px; }

        .num-neutral { background-color: #003d8f !important; }
        .num-gelesen { background-color: #ffd700 !important; color: #000 !important; }
        .num-fertig { background-color: #00ff00 !important; color: #000 !important; }
        
        .werbe-bild-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; opacity: 0; z-index: 1; }
        .bild-aktiv { animation: kenburns 20s infinite ease-in-out, fadeEffect 10s infinite; }
    </style>
</head>
<body>

    <div id="kyc-overlay">
        <div class="kyc-card">
            <h1 style="color:#fff; letter-spacing: 2px;">IDENTITÄTS-CHECK</h1>
            <p style="color:#003d8f; font-weight: bold;">M&M-COMMUNITY VERIFIZIERUNG</p>
            <p style="color:#666; font-size:0.9rem; margin-bottom:20px;">Die Wahl der Vorsitzenden erfolgt erst nach Erreichen der stillen Million. Bitte geben Sie Ihren Namen ein, um fortzufahren.</p>
            <input type="text" id="kyc-name" placeholder="Vollständiger Name" style="width:100%; padding:15px; box-sizing:border-box; margin-bottom:20px; background:#000; border:1px solid #003d8f; color:#fff; text-align:center; font-size:1.1rem;">
            <button onclick="verifyKYC()" style="width:100%; padding:18px; background:#003d8f; color:#fff; border:none; font-weight:bold; cursor:pointer; letter-spacing:1px;">ZUTRITT GEWÄHREN</button>
        </div>
    </div>

    <div id="main-app" style="display:none; width:100%; flex-direction: column; align-items: center;">
        
        <div id="dashboard" style="width: 100%; display: flex; flex-direction: column; align-items: center;">
            <div class="dashboard-header">
                <div class="logo-ring" ondblclick="adminUnlock()"><div class="logo-mm">M&M</div><div class="logo-community">COMMUNITY</div></div>
            </div>
            <div class="info-section">
                <h1 style="font-size: 2.8rem; margin: 0; font-weight: 900;">DAS WAS & WARUM</h1>
                <h2 style="color: #003d8f; font-size: 1.8rem; margin: 5px 0;">DIE STILLE MILLION</h2>
                <p style="max-width: 85%; color: #ccc; font-size: 1.1rem; text-align: center;">
                    Die Wahl der Vorsitzenden erfolgt erst nach Erreichen der stillen Million.
                </p>
            </div>
            <div class="grid" id="main-grid"></div>
        </div>

        <div id="page-skelett" style="display:none; width:100%; flex-direction: column; align-items: center;">
            <h1 id="info-titel" style="text-transform: uppercase; font-size: 1.8rem; margin-top:20px;"></h1>
            
            <div style="display:flex; width:95%; justify-content: center; align-items: center; gap: 20px;">
                <div class="buttons-links">
                    <div class="oval-side" id="sig-l1"></div>
                    <div class="oval-side ov-rot" id="sig-l4" onclick="portalZuEbene4()"></div>
                </div>

                <div class="info-section-ebene">
                    <div class="werbe-bild-bg" id="werbe-bg"></div>
                    <div style="z-index: 5; text-align: center;">
                        <span style="color: rgba(255,255,255,0.4); letter-spacing:5px; font-weight:bold;">WERBEBEREICH</span>
                    </div>
                </div>

                <div class="buttons-rechts">
                    <div class="oval-side" id="sig-r1"></div>
                    <div class="oval-side ov-gelb" id="sig-r4" onclick="portalZuEbene3()"></div>
                </div>
            </div>

            <p id="main-text" style="width: 85%; text-align: justify; color: #ccc; margin-top: 2vh; font-size: 1.2rem;"></p>

            <div id="chat-area">
                <div class="chat-msgs" id="chat-box"><i>Dialog-Modus bereit...</i></div>
                <div style="display:flex; border:1px solid #003d8f;">
                    <input type="text" id="chat-input" placeholder="Nachricht..." style="flex:1; background:transparent; border:none; color:#fff; padding:15px;" onkeypress="if(event.key==='Enter') registriereSenden()">
                    <button onclick="registriereSenden()" style="background:#003d8f; color:#fff; border:none; padding:0 30px; cursor:pointer;">SENDEN</button>
                </div>
            </div>

            <div id="drawer-ebene4">
                <h2 style="color:red; text-align:center;">VIDEO-BEWEIS AKTIV</h2>
                <div style="display:grid; grid-template-columns:repeat(4, 1fr); gap:10px;" id="video-grid">
                    <div style="border:1px solid #00ff00; height:80px; display:flex; align-items:center; justify-content:center;">DU (LIVE)</div>
                    <div style="border:1px solid #333; height:80px;"></div><div style="border:1px solid #333; height:80px;"></div><div style="border:1px solid #333; height:80px;"></div>
                </div>
            </div>

            <button onclick="showDashboard()" style="margin-top:20px; padding:10px 20px; background:#ffd700; color:#000; border:none; font-weight:bold; cursor:pointer; border-radius:5px;">← ZURÜCK ZUM DASHBOARD</button>
        </div>
    </div>

<script>
    const themen = ["Recht auf Gefühls Forderung", "Wie werde ich Mensch", "Glaube an Friede", "Programm für Bürgerliche Rechte", "Moralische Pflicht und Verantwortung", "Menschlichkeit Wiederherstellung", "Kinderschutz-Pflicht-Elternrechte", "Wahre Richtung und Kunst", "LGBTQ und Kirche", "Trend und Tradition", "Religionsbekenntnis oder Selbstwahl", "Gesundheitswesen und Verhalten", "Arbeitswelt und Du", "Mobbing am Arbeitsplatz", "Jugendsprecher", "Ratgeber für Pensionisten", "Sozialgefallen und Widerkehr", "Nachbarschaft und Gemeinschaft", "Mensch und Technik", "Die Brücke"];
    let geleseneThemen = new Set();
    let interaktionsZaehler = Array(20).fill(0);
    let ebene = 1, tId = 0, wechselInterval;

    function verifyKYC() {
        const name = document.getElementById('kyc-name').value;
        if(name.length < 3) return alert("Bitte geben Sie Ihren vollständigen Namen zur Verifizierung ein.");
        document.getElementById('kyc-overlay').style.display = 'none';
        document.getElementById('main-app').style.display = 'flex';
        initGrid();
    }

    function initGrid() {
        const grid = document.getElementById('main-grid');
        grid.innerHTML = "";
        themen.forEach((t, i) => {
            let cls = interaktionsZaehler[i] >= 20 ? "num-fertig" : (geleseneThemen.has(i) ? "num-gelesen" : "num-neutral");
            grid.innerHTML += `<div class="box"><div class="num ${cls}">${i+1}</div><div class="text" onclick="showInfo(${i})">${t}</div></div>`;
        });
    }

    function showInfo(id) {
        tId = id; ebene = 2; geleseneThemen.add(id);
        document.getElementById('dashboard').style.display = 'none';
        document.getElementById('page-skelett').style.display = 'flex';
        updateUI();
    }

    function updateUI() {
        document.getElementById('info-titel').innerText = themen[tId];
        document.getElementById('main-text').innerText = "Inhalt für " + themen[tId] + ". Hier werden die Grundwerte der Gemeinschaft vermittelt...";
        
        // Signal-Logik
        document.getElementById('sig-r4').classList.toggle('signal-aktiv', geleseneThemen.size === 20 && ebene === 2);
        document.getElementById('sig-l4').classList.toggle('signal-aktiv', interaktionsZaehler[tId] >= 20 && ebene === 3);

        // Sichtbarkeit Ebenen
        document.getElementById('chat-area').style.display = ebene === 3 ? 'flex' : 'none';
        document.getElementById('drawer-ebene4').style.display = ebene === 4 ? 'flex' : 'none';
        
        startRotation();
    }

    function portalZuEbene3() {
        if(geleseneThemen.size === 20) { ebene = 3; updateUI(); }
    }

    function portalZuEbene4() {
        if(interaktionsZaehler[tId] >= 20) { ebene = 4; updateUI(); }
    }

    function registriereSenden() {
        const input = document.getElementById('chat-input'), box = document.getElementById('chat-box');
        if(!input.value) return;
        box.innerHTML += `<div><strong>Du:</strong> ${input.value}</div>`;
        interaktionsZaehler[tId]++;
        input.value = "";
        box.scrollTop = box.scrollHeight;
        updateUI();
    }

    function showDashboard() {
        ebene = 1;
        document.getElementById('page-skelett').style.display = 'none';
        document.getElementById('dashboard').style.display = 'flex';
        initGrid();
    }

    function startRotation() {
        clearInterval(wechselInterval);
        const bg = document.getElementById('werbe-bg');
        bg.style.backgroundImage = `url('https://picsum.photos/seed/${tId + 50}/1200/600')`;
        bg.classList.add('bild-aktiv');
        wechselInterval = setInterval(() => {
            bg.classList.remove('bild-aktiv');
            setTimeout(() => { bg.classList.add('bild-aktiv'); }, 50);
        }, 10000);
    }

    function adminUnlock() {
        geleseneThemen = new Set(themen.keys());
        interaktionsZaehler = Array(20).fill(20);
        initGrid();
        alert("ADMIN: Alle Barrieren entfernt. Alle Ebenen frei.");
    }
</script>
</body>
</html>
