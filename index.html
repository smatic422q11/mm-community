<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>M&M-COMMUNITY - Admin Modus</title>
    <style>
        /* BASIS-LAYOUT */
        body { background-color: #000; color: #fff; font-family: 'Segoe UI', Arial, sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; height: 100vh; overflow: hidden; }

        /* ANIMATIONEN */
        @keyframes kenburns { 0% { transform: scale(1) translate(0, 0); } 50% { transform: scale(1.15) translate(-1%, -1%); } 100% { transform: scale(1) translate(0, 0); } }
        @keyframes fadeEffect { 0% { opacity: 0; } 15% { opacity: 0.4; } 85% { opacity: 0.4; } 100% { opacity: 0; } }
        
        @keyframes signalBlink {
            0% { box-shadow: 0 0 5px #fff; opacity: 0.8; }
            50% { box-shadow: 0 0 25px #fff, 0 0 35px #003d8f; opacity: 1; transform: scale(1.05); }
            100% { box-shadow: 0 0 5px #fff; opacity: 0.8; }
        }

        @keyframes eliteBlink {
            0% { background-color: #000; box-shadow: 0 0 5px #333; }
            50% { background-color: #444; box-shadow: 0 0 20px #666, inset 0 0 10px #000; transform: scale(1.1); }
            100% { background-color: #000; box-shadow: 0 0 5px #333; }
        }

        .signal-aktiv { animation: signalBlink 1.0s infinite ease-in-out !important; border: 2px solid #fff !important; cursor: pointer; }
        .elite-aktiv { animation: eliteBlink 2s infinite ease-in-out !important; border: 2px solid #ffd700 !important; cursor: pointer; }

        /* HEADER & LOGO */
        .dashboard-header { width: 100%; position: absolute; top: 3%; display: flex; justify-content: flex-start; padding: 0 2%; box-sizing: border-box; z-index: 20; }
        .logo-ring { width: 110px; height: 110px; border: 3px solid #fff; background-color: #003d8f; border-radius: 50%; display: flex; flex-direction: column; justify-content: center; align-items: center; cursor: pointer; }
        .logo-mm { font-size: 2rem; font-weight: 900; line-height: 0.8; }
        .logo-community { font-size: 0.6rem; letter-spacing: 1.5px; text-transform: uppercase; font-weight: bold; }

        /* TAFEL DESIGNS */
        .info-section { width: 80%; height: 26vh; border: 2px solid #003d8f; display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: #000; position: relative; overflow: hidden; margin-top: 2vh; }
        .tafel-layout { display: flex; align-items: center; justify-content: center; width: 100%; position: relative; margin-top: 1vh; height: 26vh; flex-shrink: 0; }
        .info-section-ebene { width: 90% !important; height: 100%; border: 2px solid #003d8f; background-color: #000; position: relative; overflow: hidden; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 10; box-shadow: 0 0 15px rgba(0, 61, 143, 0.5); }

        .buttons-links { position: absolute; left: 1.5%; display: flex; flex-direction: column; gap: 15px; z-index: 20; }
        .buttons-rechts { position: absolute; right: 1.5%; display: flex; flex-direction: column; gap: 15px; z-index: 20; }
        .oval-side { width: 45px; height: 22px; border-radius: 12px; border: 1px solid #fff; opacity: 0.8; transition: all 0.3s; }
        .ov-schwarz { background: #000; border: 1.5px solid #003d8f; }
        .ov-grun { background: #00ff00; }
        .ov-blau { background: #0000ff; }
        .ov-rot { background: #ff0000; }
        .ov-pink { background: #ff00ff; }
        .ov-gelb { background: #ffff00; }

        /* GRID DASHBOARD */
        .grid { display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(5, 1fr); grid-auto-flow: column; gap: 10px; width: 95%; max-width: 1450px; margin-top: 30px; border: 3px solid #00ff00; padding: 15px; border-radius: 10px; }
        .box, .fundament-box { display: flex; border: 2px solid #003d8f; background-color: #000; min-height: 58px; position: relative; overflow: hidden; }
        .num { width: 38px; display: flex; align-items: center; justify-content: center; background-color: #003d8f; font-weight: bold; flex-shrink: 0; font-size: 0.85rem; }
        .text { padding: 4px 8px; text-transform: uppercase; font-size: 0.6rem; display: flex; align-items: center; cursor: pointer; flex-grow: 1; font-weight: 600; }

        /* BEREICHE */
        #chat-area, #drawer-ebene4, #ebene5-bereich { width: 90% !important; flex-grow: 1; display: none; flex-direction: column; margin-top: 5px; margin-bottom: 70px; overflow: hidden; position: relative; }
        .chat-msgs { flex: 1; display: flex; flex-direction: column; justify-content: flex-end; padding: 10px 0; color: #fff; font-size: 1.1rem; text-shadow: 2px 2px 4px #000; overflow-y: auto; }
        .chat-input-row { display: flex; border: 1px solid #003d8f; background: rgba(0, 0, 0, 0.9); padding: 5px; border-radius: 4px; z-index: 10; }
        
        /* NAVIGATION */
        .bottom-nav { display: flex; justify-content: space-between; width: 100%; padding: 10px 20px; position: fixed; bottom: 0; left: 0; box-sizing: border-box; background: #000; z-index: 100; }
        .nav-btn { background: #ffd700; color: #000; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; border-radius: 5px; }
        .dot { width: 10px; height: 10px; background: #444; border-radius: 50%; }
        .dot.active { background: #ffd700; box-shadow: 0 0 10px #ffd700; }

        /* STATUSFARBEN GRID */
        .num-neutral { background-color: #003d8f !important; }
        .num-gelesen { background-color: #ffd700 !important; color: #000 !important; }
        .num-fertig { background-color: #00ff00 !important; color: #000 !important; }

        /* VIDEO-GRID */
        .video-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
        .video-slot { aspect-ratio: 16/9; background: #111; border: 1px solid #003d8f; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; color: #666; position: relative; }
        .slot-1-user { border-color: #00ff00; color: #00ff00; }

        /* WERBUNG */
        .werbe-bild-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; opacity: 0; z-index: 1; }
        .bild-aktiv { animation: kenburns 20s infinite ease-in-out, fadeEffect 10s infinite; }
        .werbe-text-overlay { color: rgba(255, 255, 255, 0.3); font-weight: bold; font-size: 1.2rem; letter-spacing: 5px; z-index: 5; text-align: center; text-shadow: 2px 2px 5px #000; }
        #counter-box { position: absolute; right: 0; top: 0; width: 100px; padding: 5px; border-left: 2px solid #003d8f; border-bottom: 2px solid #003d8f; background: #000; text-align: center; display: none; z-index: 100; }
        .counter-label { font-size: 0.4rem; color: #fff; display: block; }
        .counter-value { font-size: 0.85rem; font-weight: 900; color: #ff0000; }
    </style>
</head>
<body>

    <div id="dashboard" style="width: 100%; display: flex; flex-direction: column; align-items: center;">
        <div class="dashboard-header">
            <div class="logo-ring" ondblclick="adminUnlock()"><div class="logo-mm">M&M</div><div class="logo-community">COMMUNITY</div></div>
        </div>
        <div class="info-section">
            <h1 style="font-size: 2.8rem; margin: 0; font-weight: 900;">DAS WAS & WARUM</h1>
            <h2 style="color: #003d8f; font-size: 1.8rem; margin: 5px 0;">DIE STILLE MILLION</h2>
            <p style="max-width: 85%; color: #ccc; font-size: 1.1rem; margin: 10px 0 0 0; text-align: center;">
                Die M&M-Community ist das Fundament für alle. <strong>Die Wahl der Vorsitzenden erfolgt erst nach Erreichen der stillen Million.</strong>
            </p>
        </div>
        <div class="grid" id="main-grid"></div>
        <div class="fundament-container" style="display: flex; width: 95%; max-width: 1450px; gap: 10px; margin-top: 10px; margin-bottom: 80px;">
            <div class="fundament-box" style="flex: 1;"><div class="num">21</div><div class="text">Kapital und Verwaltung</div></div>
            <div class="fundament-box" style="flex: 1;"><div class="num">22</div><div class="text">DAS KOLLEKTIV</div></div>
        </div>
    </div>

    <div id="page-skelett" style="display: none; width: 100%; flex-direction: column; align-items: center; height: 100vh;">
        <div class="top-container" style="width: 100%; display: flex; flex-direction: column; align-items: center; margin-top: 1vh;">
            <h1 id="info-titel" style="text-transform: uppercase; font-size: 1.8rem; margin-bottom: 5px; font-weight: 900; color: #fff;"></h1>
            <div class="tafel-layout">
                <div class="buttons-links">
                    <div class="oval-side ov-schwarz" id="sig-l1"></div>
                    <div class="oval-side ov-grun" id="sig-l2"></div>
                    <div class="oval-side ov-blau" id="sig-l3"></div>
                    <div class="oval-side ov-rot" id="sig-l4" onclick="portalZuEbene4()"></div>
                </div>
                <div class="info-section-ebene">
                    <div class="werbe-bild-bg" id="werbe-bg"></div>
                    <div class="werbe-text-overlay">HIER IST PLATZ FÜR WERBUNG</div>
                    <div id="counter-box"><span class="counter-label">STILLE MILLION</span><span class="counter-value">842.336</span></div>
                </div>
                <div class="buttons-rechts">
                    <div class="oval-side ov-grun" id="sig-r1"></div>
                    <div class="oval-side ov-blau" id="sig-r2"></div>
                    <div class="oval-side ov-pink" id="sig-r3"></div>
                    <div class="oval-side ov-gelb" id="sig-r4" onclick="portalZuEbene3()"></div>
                </div>
            </div>
        </div>

        <p id="main-text" style="width: 85%; text-align: justify; color: #ccc; margin-top: 2vh; font-size: 1.3rem; line-height: 1.8; max-width: 1200px; overflow-y: auto; max-height: 50vh; padding: 20px;"></p>

        <div id="chat-area">
            <div class="chat-msgs" id="chat-box"><i>System: Dialog bereit...</i></div>
            <div class="chat-input-row">
                <input type="text" id="chat-input" placeholder="Nachricht schreiben..." style="flex:1; background:transparent; border:none; color:#fff; padding:15px; outline:none;" onkeypress="if(event.key==='Enter') registriereSenden()">
                <button onclick="registriereSenden()" style="background:#003d8f; color:#fff; border:none; padding:0 30px; font-weight:bold; cursor:pointer;">SENDEN</button>
            </div>
        </div> 

        <div id="drawer-ebene4">
            <div class="video-grid" style="width: 100%; padding: 20px;">
                <div class="video-slot slot-1-user">SLOT 1 (DU)</div>
                <div class="video-slot">SLOT 2 (ZUFALL)</div>
                <div class="video-slot">SLOT 3 (ZUFALL)</div>
                <div class="video-slot">SLOT 4 (ZUFALL)</div>
            </div>
        </div> 

        <div id="ebene5-bereich" style="display:none;"><div style="padding:40px; text-align:center;"><h1>ELITE ZONE</h1><p>Warten auf die Stille Million...</p></div></div>
    </div>

    <div class="bottom-nav">
        <button id="btn-back" class="nav-btn" style="visibility: hidden;" onclick="showDashboard()">← Dashboard</button>
        <div style="display: flex; gap: 8px; align-items: center;" id="dot-holder"></div>
        <button id="btn-next" class="nav-btn" style="visibility: hidden;" onclick="nextPage()">Weiter →</button>
    </div>

<script>
    let isAdmin = false;
    const themen = ["Recht auf Gefühls Forderung", "Wie werde ich Mensch", "Glaube an Friede", "Programm für Bürgerliche Rechte", "Moralische Pflicht und Verantwortung", "Menschlichkeit Wiederherstellung", "Kinderschutz-Pflicht-Elternrechte", "Wahre Richtung und Kunst", "LGBTQ und Kirche", "Trend und Tradition", "Religionsbekenntnis oder Selbstwahl", "Gesundheitswesen und Verhalten", "Arbeitswelt und Du", "Mobbing am Arbeitsplatz", "Jugendsprecher", "Ratgeber für Pensionisten", "Sozialgefallen und Widerkehr", "Nachbarschaft und Gemeinschaft", "Mensch und Technik", "Die Brücke"];
    let ebene = 1, tId = 0, aktuellesThema = "", geleseneThemen = new Set(), interaktionsZaehler = {};
    themen.forEach((t, i) => { interaktionsZaehler[i] = 0; });

    const grid = document.getElementById('main-grid');
    themen.forEach((t, i) => { grid.innerHTML += `<div class="box" id="box-${i}"><div class="num num-neutral" id="num-${i}">${i+1}</div><div class="text" onclick="showInfo('${t}', ${i})">${t}</div></div>`; });
    
    const dots = document.getElementById('dot-holder');
    for(let i=1; i<=7; i++) dots.innerHTML += `<div id="dot${i}" class="dot ${i===1?'active':''}"></div>`;

    function adminUnlock() {
        isAdmin = true;
        themen.forEach((_, i) => { geleseneThemen.add(i); interaktionsZaehler[i] = 20; });
        updateNumColors();
        updateUI();
        alert("ADMIN: Alle Ebenen freigeschaltet.");
    }

    function showInfo(t, id) { tId = id; aktuellesThema = t; if (ebene < 3) { ebene = 2; geleseneThemen.add(id); } updateNumColors(); document.getElementById('dashboard').style.display = 'none'; document.getElementById('page-skelett').style.display = 'flex'; updateUI(); }
    function portalZuEbene3() { if (document.getElementById('sig-r4').classList.contains('signal-aktiv')) { ebene = 3; updateUI(); } }
    function portalZuEbene4() { if (document.getElementById('sig-l4').classList.contains('signal-aktiv')) { ebene = 4; updateUI(); } }

    function updateUI() {
        const isChat = (ebene === 3), isVideo = (ebene === 4);
        document.getElementById('chat-area').style.display = isChat ? 'flex' : 'none';
        document.getElementById('drawer-ebene4').style.display = isVideo ? 'flex' : 'none';
        document.getElementById('main-text').style.display = (ebene < 3) ? 'block' : 'none';
        document.getElementById('info-titel').innerText = isVideo ? "VIDEO-BEWEIS" : aktuellesThema;
        document.getElementById('counter-box').style.display = ebene >= 3 ? 'block' : 'none';
        
        // Navigation-Buttons Sichtbarkeit
        document.getElementById('btn-back').style.visibility = 'visible';
        document.getElementById('btn-next').style.visibility = (ebene === 2) ? 'visible' : 'hidden';

        if (ebene === 2) document.getElementById('main-text').innerText = "Inhalt für " + aktuellesThema + "... Hier erfüllt der User seine Gefühls Forderung durch Studium der Inhalte.";

        // Barriere Gelb (Ebene 2 -> 3)
        document.getElementById('sig-r4').classList.toggle('signal-aktiv', (geleseneThemen.size === 20));
        
        // Barriere Rot (Ebene 3 -> 4): 20 Nachrichten in JEDEM der 20 Räume
        let alleRaeumeFertig = Object.values(interaktionsZaehler).every(val => val >= 20);
        document.getElementById('sig-l4').classList.toggle('signal-aktiv', (ebene === 3 && alleRaeumeFertig));

        // Barriere Schwarz (Ebene 5): Nur für Admin oder bei Qualifikation (aktuell für User gesperrt)
        const sigL1 = document.getElementById('sig-l1');
        if (isAdmin) { sigL1.className = "oval-side elite-aktiv"; sigL1.onclick = () => { ebene=5; updateUI(); }; }

        updateDots();
    }

    function registriereSenden() {
        const input = document.getElementById('chat-input'), chatBox = document.getElementById('chat-box'), text = input.value.trim();
        if (text === "") return;
        chatBox.innerHTML += `<div><strong>Du:</strong> ${text}</div>`;
        interaktionsZaehler[tId]++; // Zählt pro aktuellem Thema
        input.value = "";
        chatBox.scrollTop = chatBox.scrollHeight;
        updateUI();
    }

    function nextPage() { if (tId < 19) { tId++; showInfo(themen[tId], tId); } }
    function showDashboard() { ebene = 1; document.getElementById('page-skelett').style.display = 'none'; document.getElementById('dashboard').style.display = 'flex'; updateNumColors(); }
    function updateNumColors() { themen.forEach((_, i) => { const nBox = document.getElementById(`num-${i}`); if (nBox) { if (interaktionsZaehler[i] >= 20) nBox.className = "num num-fertig"; else if (geleseneThemen.has(i)) nBox.className = "num num-gelesen"; } }); }
    function updateDots() { for(let i=1; i<=7; i++) { const d = document.getElementById('dot'+i); if(d) d.classList.toggle('active', i === ebene); } }
</script>
</body>
</html>
