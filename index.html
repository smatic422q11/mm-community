<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>M&M-COMMUNITY - Das Fundament</title>
    <script src="https://cdn.ably.com/lib/ably.min-1.js"></script>
    <style>
        /* DEIN HERZSTÜCK: DAS AUSSEHEN */
        body { background-color: #000; color: #fff; font-family: 'Segoe UI', Arial, sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; height: 100vh; overflow: hidden; }

        /* LILA REGISTRIERUNGS-LEISTE */
        .lila-registrierung-leiste { width: 100%; height: 80px; background: #8b00ff; border-top: 2px solid #fff; border-bottom: 2px solid #fff; display: flex; align-items: center; justify-content: center; margin-top: 20px; box-shadow: 0 0 20px #8b00ff; }
        .registrierung-text { color: #fff; font-size: 2.2rem; font-weight: 900; letter-spacing: 15px; text-transform: uppercase; }

        /* HEADER & LOGO */
        .dashboard-header { width: 100%; position: absolute; top: 3%; display: flex; justify-content: flex-start; padding: 0 2%; box-sizing: border-box; z-index: 20; }
        .logo-ring { width: 110px; height: 110px; border: 3px solid #fff; background-color: #003d8f; border-radius: 50%; display: flex; flex-direction: column; justify-content: center; align-items: center; cursor: pointer; }
        .logo-mm { font-size: 2rem; font-weight: 900; line-height: 0.8; }
        .logo-community { font-size: 0.6rem; letter-spacing: 1.5px; text-transform: uppercase; font-weight: bold; }

        /* DIE TAFEL / INFO-SECTION */
        .info-section { width: 80%; height: 26vh; border: 2px solid #003d8f; display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: #000; position: relative; overflow: hidden; margin-top: 2vh; }
        
        /* DAS GRID (DEIN RÜCKGRAT) */
        .grid { display: grid; grid-template-columns: repeat(4, 1fr); grid-template-rows: repeat(5, 1fr); grid-auto-flow: column; gap: 10px; width: 95%; max-width: 1450px; margin-top: 30px; border: 3px solid #00ff00; padding: 15px; border-radius: 10px; }
        .box, .fundament-box { display: flex; border: 2px solid #003d8f; background-color: #000; min-height: 58px; position: relative; overflow: hidden; }
        .num { width: 38px; display: flex; align-items: center; justify-content: center; background-color: #003d8f; font-weight: bold; flex-shrink: 0; font-size: 0.85rem; }
        .text { padding: 4px 8px; text-transform: uppercase; font-size: 0.6rem; display: flex; align-items: center; cursor: pointer; flex-grow: 1; font-weight: 600; }

        /* FARBEN FÜR STATUS */
        .num-neutral { background-color: #003d8f !important; }
        .num-gelesen { background-color: #ffd700 !important; color: #000 !important; }
        .num-offen { background-color: #ff4d4d !important; }
        .num-fertig { background-color: #00ff00 !important; color: #000 !important; }

        /* EBENE 3 & 4 SPEZIFISCH (CHAT & VIDEO) */
        #chat-area, #drawer-ebene4 { width: 90%; display: none; flex-direction: column; margin: 0 auto; flex-grow: 1; }
        .chat-msgs { flex: 1; min-height: 200px; padding: 10px; color: #fff; overflow-y: auto; border: 1px solid #003d8f; }
        .video-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; width: 100%; margin-bottom: 20px; }
        .video-slot { aspect-ratio: 16/9; background: #111; border: 1px solid #003d8f; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; color: #666; }

        /* NAVIGATION */
        .bottom-nav { display: flex; justify-content: space-between; width: 100%; padding: 10px 20px; position: fixed; bottom: 0; background: #000; border-top: 1px solid #333; z-index: 100; }
        .nav-btn { background: #ffd700; color: #000; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; border-radius: 5px; }
        .dot { width: 10px; height: 10px; background: #444; border-radius: 50%; }
        .dot.active { background: #ffd700; box-shadow: 0 0 10px #ffd700; }
    </style>
</head>
<body>

    <div id="dashboard" style="width: 100%; display: flex; flex-direction: column; align-items: center;">
        <div class="dashboard-header">
            <div class="logo-ring"><div class="logo-mm">M&M</div><div class="logo-community">COMMUNITY</div></div>
        </div>
        <div class="info-section">
            <h1 style="font-size: 2.8rem; font-weight: 900;">DAS WAS & WARUM</h1>
            <h2 style="color: #003d8f; font-size: 1.8rem;">DIE STILLE MILLION</h2>
            <p style="max-width: 80%; text-align: center; color: #ccc;">Wahl der Vorsitzenden erst nach Erreichen der stillen Million.</p>
        </div>
        <div class="grid" id="main-grid"></div>
        
        <div style="display: flex; width: 95%; max-width: 1450px; gap: 10px; margin-top: 10px; margin-bottom: 80px;">
            <div class="fundament-box" style="flex: 1; cursor: pointer;" onclick="verif(false)"><div class="num">G</div><div class="text">Gast</div></div>
            <div class="fundament-box" style="flex: 1; cursor: pointer; border-color: #8b00ff;" onclick="verif(true)"><div class="num" style="background: #8b00ff;">V</div><div class="text">Verifiziert (Status 1-4)</div></div>
        </div>
    </div>

    <div id="page-skelett" style="display: none; width: 100%; flex-direction: column; align-items: center; height: 100vh;">
        <h1 id="info-titel" style="text-transform: uppercase; font-size: 1.8rem; margin-top: 20px;"></h1>
        
        <p id="main-text" style="width: 85%; color: #ccc; line-height: 1.8; font-size: 1.3rem;"></p>

        <div id="chat-area">
            <div class="chat-msgs" id="chat-box"><i>System: Dialog bereit...</i></div>
            <div style="display: flex; margin-top: 10px;">
                <input type="text" id="chat-input" style="flex:1; padding: 15px; background: #111; border: 1px solid #003d8f; color: #fff;">
                <button onclick="sendMsg()" style="background: #003d8f; color: #fff; border: none; padding: 0 20px;">SENDEN</button>
            </div>
        </div>

        <div id="drawer-ebene4">
            <div class="video-grid">
                <div class="video-slot">SLOT 1 (DU)</div>
                <div class="video-slot">SLOT 2</div>
                <div class="video-slot">SLOT 3</div>
                <div class="video-slot">SLOT 4</div>
            </div>
            <div class="lila-registrierung-leiste"><div class="registrierung-text">WACHSTUM DER MILLION</div></div>
            <p style="text-align: center; color: #ff0000; font-weight: 900; font-size: 1.5rem; margin-top: 20px;">
                DAS PARLAMENT WIRD IM SCHATTEN GESCHMIEDET.
            </p>
        </div>
    </div>

    <div class="bottom-nav">
        <button class="nav-btn" onclick="goHome()">← Dashboard</button>
        <div style="display: flex; gap: 8px;" id="dot-holder"></div>
        <button id="btn-next" class="nav-btn" style="visibility: hidden;" onclick="next()">Weiter →</button>
    </div>

<script>
    const themen = ["Recht auf Gefühls Forderung", "Wie werde ich Mensch", "Glaube an Friede", "Programm für Bürgerliche Rechte", "Moralische Pflicht und Verantwortung", "Menschlichkeit Wiederherstellung", "Kinderschutz-Pflicht-Elternrechte", "Wahre Richtung und Kunst", "LGBTQ und Kirche", "Trend and Tradition", "Religionsbekenntnis oder Selbstwahl", "Gesundheitswesen und Verhalten", "Arbeitswelt und Du", "Mobbing am Arbeitsplatz", "Jugendsprecher", "Ratgeber für Pensionisten", "Sozialgefallen und Widerkehr", "Nachbarschaft und Gemeinschaft", "Mensch und Technik", "Die Brücke"];
    let ebene = 1, tId = 0, isVerifiziert = false;
    let gelesene = new Set();

    // Grid aufbauen
    const grid = document.getElementById('main-grid');
    themen.forEach((t, i) => {
        grid.innerHTML += `<div class="box"><div class="num num-neutral" id="n-${i}">${i+1}</div><div class="text" onclick="startSektor(${i})">${t}</div></div>`;
    });

    // Dots aufbauen
    const dots = document.getElementById('dot-holder');
    for(let i=1; i<=4; i++) dots.innerHTML += `<div id="dot${i}" class="dot ${i===1?'active':''}"></div>`;

    function startSektor(id) {
        tId = id; ebene = 2; gelesene.add(id);
        document.getElementById('dashboard').style.display = 'none';
        document.getElementById('page-skelett').style.display = 'flex';
        updateUI();
    }

    function verif(status) { isVerifiziert = status; alert(status ? "Verifiziert!" : "Gast-Modus aktiv"); updateUI(); }

    function updateUI() {
        document.getElementById('info-titel').innerText = themen[tId];
        document.getElementById('main-text').innerText = "Hier liegen die Dokumente und Gedanken zum Sektor: " + themen[tId];
        
        document.getElementById('main-text').style.display = (ebene === 2) ? 'block' : 'none';
        document.getElementById('chat-area').style.display = (ebene === 3) ? 'flex' : 'none';
        document.getElementById('drawer-ebene4').style.display = (ebene === 4) ? 'flex' : 'none';

        const nextBtn = document.getElementById('btn-next');
        nextBtn.style.visibility = (isVerifiziert && ebene < 4) ? 'visible' : 'hidden';

        for(let i=1; i<=4; i++) {
            const d = document.getElementById('dot'+i);
            if(d) d.classList.toggle('active', i === ebene);
        }
    }

    function next() { if(ebene < 4) { ebene++; updateUI(); } }
    function goHome() { ebene = 1; document.getElementById('page-skelett').style.display = 'none'; document.getElementById('dashboard').style.display = 'flex'; }
    function sendMsg() { 
        const val = document.getElementById('chat-input').value;
        if(val) {
            document.getElementById('chat-box').innerHTML += `<div><strong>Du:</strong> ${val}</div>`;
            document.getElementById('chat-input').value = "";
        }
    }
</script>
</body>
</html>
